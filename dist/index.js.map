{"version":3,"sources":["../src/index.ts","../src/components/ChatPanel.tsx","../src/components/ChatHeader.tsx","../src/utils/cn.ts","../src/components/ChatInput.tsx","../src/components/DeepResearch/DeepResearchToggle.tsx","../src/components/EmptyState.tsx","../src/styles/tokens.ts","../src/styles/animations.ts","../src/styles/components.ts","../src/components/SuggestionChips.tsx","../src/components/TypingIndicator.tsx","../src/components/QuestionForm/component.tsx","../src/components/QuestionForm/styles.ts","../src/components/QuestionForm/field-renderer.tsx","../src/components/QuestionForm/quick-reply-form.tsx","../src/components/MarkdownMessage.tsx","../src/components/ToolProgressIndicator.tsx","../src/components/ConversationInteractiveElements.tsx","../src/components/PlanningStatus/component.tsx","../src/components/PlanningStatus/icons.tsx","../src/components/PlanningStatus/styles.ts","../src/components/PlanningStatus/step-item.tsx","../src/components/UnifiedProgress/component.tsx","../src/components/Input/ChatInputArea.tsx","../src/components/Input/FileAttachmentBadge.tsx","../src/types/attachments.ts","../src/components/Input/ActionMenu.tsx","../src/hooks/useChatAttachments.ts","../src/schema.ts"],"sourcesContent":["/**\n * @onegenui/chat\n *\n * Beautiful, responsive AI chat interface for OneGenUI dashboards.\n */\n\n// Components\nexport { ChatPanel } from \"./components/ChatPanel\";\nexport { ChatHeader } from \"./components/ChatHeader\";\nexport { ChatInput } from \"./components/ChatInput\";\nexport { EmptyState } from \"./components/EmptyState\";\nexport { SuggestionChips } from \"./components/SuggestionChips\";\nexport { TypingIndicator } from \"./components/TypingIndicator\";\nexport { QuestionForm } from \"./components/QuestionForm\";\nexport { MarkdownMessage } from \"./components/MarkdownMessage\";\nexport {\n  ConversationInteractiveElements,\n  type ConversationInteractiveElementsProps,\n} from \"./components/ConversationInteractiveElements\";\nexport {\n  PlanningStatus,\n  type PlanningStatusProps,\n} from \"./components/PlanningStatus\";\nexport {\n  UnifiedProgressIndicator,\n  type UnifiedProgressIndicatorProps,\n} from \"./components/UnifiedProgress\";\n\n// Components - Input\nexport {\n  ChatInputArea,\n  type ChatInputAreaProps,\n} from \"./components/Input/ChatInputArea\";\nexport {\n  ActionMenu,\n  type ActionMenuProps,\n} from \"./components/Input/ActionMenu\";\nexport {\n  FileAttachmentBadge,\n  type FileAttachmentBadgeProps,\n} from \"./components/Input/FileAttachmentBadge\";\n\n// Hooks\nexport { useChatAttachments } from \"./hooks/useChatAttachments\";\n\n// Types\nexport type {\n  ChatPanelProps,\n  ChatHeaderProps,\n  ChatInputProps,\n  EmptyStateProps,\n  SuggestionChipsProps,\n  QuestionFormProps,\n  EditModeInputProps,\n  SelectedElement,\n  ChatMessage,\n  ConversationListProps,\n  MessageBubbleProps,\n} from \"./types/chat\";\nexport * from \"./types/attachments\";\n\n// Styles (for customization)\nexport {\n  colors,\n  spacing,\n  radii,\n  typography,\n  shadows,\n  glass,\n  zIndex,\n  breakpoints,\n  panelDimensions,\n} from \"./styles/tokens\";\n\nexport {\n  easing,\n  duration,\n  transitions,\n  keyframes,\n  animations,\n} from \"./styles/animations\";\n\n// Schemas (for validation and registration)\nexport {\n  chatMessageSchema,\n  formFieldSchema,\n  formFieldOptionSchema,\n  formFieldValidationSchema,\n  questionPayloadSchema,\n  quickReplyOptionSchema,\n  suggestionChipSchema,\n  conversationTurnSchema,\n  type ChatMessageSchema,\n  type FormFieldSchema,\n  type QuestionPayloadSchema,\n  type SuggestionChipSchema,\n  type ConversationTurnSchema,\n} from \"./schema\";\n","\"use client\";\n\nimport { useState, useCallback, useRef, useEffect, memo } from \"react\";\nimport type { ChatPanelProps } from \"../types\";\nimport { ChatHeader } from \"./ChatHeader\";\nimport { ChatInput } from \"./ChatInput\";\nimport { EmptyState } from \"./EmptyState\";\nimport { SuggestionChips } from \"./SuggestionChips\";\nimport { TypingIndicator } from \"./TypingIndicator\";\nimport { QuestionForm } from \"./QuestionForm\";\nimport { MarkdownMessage } from \"./MarkdownMessage\";\nimport { ToolProgressIndicator } from \"./ToolProgressIndicator\";\nimport type {\n  ChatMessage,\n  QuestionPayload,\n  SuggestionChip,\n  ToolProgress,\n} from \"@onegenui/react\";\nimport { cn } from \"../utils/cn\";\n\n/**\n * ChatPanel Component\n *\n * Main chat interface component with conversation display, message input,\n * question forms, and suggestion chips.\n */\nexport const ChatPanel = memo(function ChatPanel({\n  conversation,\n  isStreaming = false,\n  isOpen = true,\n  onOpenChange,\n  width,\n  onWidthChange,\n  onSend,\n  onDelete,\n  onEdit,\n  onUndo,\n  onRedo,\n  canUndo = false,\n  canRedo = false,\n  selectedElement,\n  selectionPrompt = \"\",\n  onSelectionPromptChange,\n  onSelectionSubmit,\n  onSelectionCancel,\n  onSelectionDelete,\n  onAnswerQuestion,\n  onSuggestionClick,\n  onOpenSettings,\n  variant = \"glass\",\n  className,\n  style,\n}: ChatPanelProps) {\n  const [inputValue, setInputValue] = useState(\"\");\n  const messagesEndRef = useRef<HTMLDivElement>(null);\n  const containerRef = useRef<HTMLDivElement>(null);\n\n  // Scroll to bottom when conversation updates\n  useEffect(() => {\n    messagesEndRef.current?.scrollIntoView({ behavior: \"smooth\" });\n  }, [conversation, isStreaming]);\n\n  // Handle send message\n  const handleSend = useCallback(() => {\n    if (inputValue.trim() && onSend) {\n      onSend(inputValue.trim());\n      setInputValue(\"\");\n    }\n  }, [inputValue, onSend]);\n\n  // Handle selection submit\n  const handleSelectionSubmit = useCallback(() => {\n    if (onSelectionSubmit) {\n      onSelectionSubmit();\n    }\n  }, [onSelectionSubmit]);\n\n  // Check if in selection mode\n  const isInSelectionMode = !!selectedElement;\n\n  // Get last turn for suggestions\n  const lastTurn = conversation[conversation.length - 1];\n  const suggestions = lastTurn?.suggestions || [];\n  const hasMessages = conversation.length > 0;\n\n  return (\n    <div\n      ref={containerRef}\n      className={cn(\n        \"flex flex-col h-full bg-background/80 backdrop-blur-3xl border-l border-border transition-all overflow-hidden\",\n        className,\n      )}\n      style={{\n        width: width ?? undefined,\n        ...style,\n      }}\n    >\n      {/* Header */}\n      <ChatHeader\n        title=\"AI Assistant\"\n        isStreaming={isStreaming}\n        onUndo={onUndo}\n        onRedo={onRedo}\n        canUndo={canUndo}\n        canRedo={canRedo}\n        onOpenSettings={onOpenSettings}\n        onClose={() => onOpenChange?.(false)}\n        showClose={!!onOpenChange}\n      />\n\n      {/* Messages Area */}\n      <div className=\"flex flex-col gap-6 p-6 flex-1 overflow-y-auto\">\n        {!hasMessages ? (\n          <EmptyState />\n        ) : (\n          <>\n            {conversation.map((turn) => (\n              <div key={turn.id} className=\"flex flex-col gap-4\">\n                {/* User Message */}\n                {turn.userMessage && !turn.isProactive && (\n                  <div className=\"self-end max-w-[85%] px-5 py-3 rounded-2xl rounded-br-sm bg-primary text-primary-foreground shadow-md text-base leading-normal\">\n                    {turn.userMessage}\n                  </div>\n                )}\n\n                {/* Assistant Messages */}\n                {turn.assistantMessages?.map(\n                  (msg: ChatMessage, idx: number) => (\n                    <div\n                      key={`${turn.id}-msg-${idx}`}\n                      className=\"self-start max-w-[90%] px-6 py-4 rounded-2xl rounded-bl-sm bg-muted/50 border border-border text-foreground text-base leading-relaxed\"\n                    >\n                      <MarkdownMessage content={msg.content} />\n                    </div>\n                  ),\n                )}\n\n                {/* Tool Progress Indicator */}\n                {turn.toolProgress && turn.toolProgress.length > 0 && (\n                  <ToolProgressIndicator toolProgress={turn.toolProgress} />\n                )}\n\n                {/* Questions */}\n                {turn.questions?.map(\n                  (question: QuestionPayload, qIdx: number) => {\n                    const isAnswered =\n                      turn.questionAnswers &&\n                      question.id in turn.questionAnswers;\n                    if (isAnswered) return null;\n\n                    return (\n                      <QuestionForm\n                        key={question.id || `q-${qIdx}`}\n                        question={question}\n                        onSubmit={(answers: Record<string, unknown>) =>\n                          onAnswerQuestion?.(turn.id, question.id, answers)\n                        }\n                        onSkip={\n                          !question.required\n                            ? () => onAnswerQuestion?.(turn.id, question.id, {})\n                            : undefined\n                        }\n                        isSubmitting={isStreaming}\n                      />\n                    );\n                  },\n                )}\n              </div>\n            ))}\n\n            {/* Typing Indicator */}\n            {isStreaming && <TypingIndicator />}\n\n            {/* Scroll anchor */}\n            <div ref={messagesEndRef} />\n          </>\n        )}\n      </div>\n\n      {/* Suggestion Chips */}\n      {suggestions.length > 0 && !isStreaming && (\n        <SuggestionChips\n          suggestions={suggestions}\n          onClick={(s: SuggestionChip) => onSuggestionClick?.(s)}\n          disabled={isStreaming}\n        />\n      )}\n\n      {/* Input Area */}\n      {isInSelectionMode ? (\n        <div className=\"p-6\">\n          <div className=\"mb-2 text-xs font-medium text-white/70\">\n            Editing: {selectedElement?.type}\n          </div>\n          <ChatInput\n            value={selectionPrompt}\n            onChange={(v) => onSelectionPromptChange?.(v)}\n            onSubmit={handleSelectionSubmit}\n            placeholder=\"Describe changes...\"\n            isStreaming={isStreaming}\n          />\n          <div className=\"flex gap-2 mt-2\">\n            <button\n              type=\"button\"\n              onClick={onSelectionCancel}\n              className=\"flex-1 px-4 py-2 border border-white/10 rounded-lg bg-transparent text-white/70 cursor-pointer hover:bg-white/5 transition-colors\"\n            >\n              Cancel\n            </button>\n            {onSelectionDelete && (\n              <button\n                type=\"button\"\n                onClick={onSelectionDelete}\n                className=\"px-4 py-2 border-none rounded-lg bg-destructive/15 text-destructive cursor-pointer hover:bg-destructive/25 transition-colors\"\n              >\n                Delete\n              </button>\n            )}\n          </div>\n        </div>\n      ) : (\n        <ChatInput\n          value={inputValue}\n          onChange={setInputValue}\n          onSubmit={handleSend}\n          placeholder=\"Ask me anything...\"\n          isStreaming={isStreaming}\n        />\n      )}\n    </div>\n  );\n});\n","\"use client\";\n\nimport { memo } from \"react\";\nimport { Bot, Redo2, Settings, Undo2, X } from \"lucide-react\";\nimport type { ChatHeaderProps } from \"../types\";\nimport { cn } from \"../utils/cn\";\n\n/**\n * Chat Header Component\n *\n * Displays the chat panel header with title, streaming indicator, and action buttons.\n */\nexport const ChatHeader = memo(function ChatHeader({\n  title = \"AI Assistant\",\n  isStreaming = false,\n  onUndo,\n  onRedo,\n  canUndo = false,\n  canRedo = false,\n  onOpenSettings,\n  onClose,\n  showClose = false,\n}: ChatHeaderProps) {\n  return (\n    <header className=\"flex items-center justify-between px-6 py-4 min-h-[60px] border-b border-border bg-black/5\">\n      {/* Title and Status */}\n      <div className=\"flex items-center gap-2 text-base font-semibold text-foreground\">\n        <Bot size={20} />\n        <span>{title}</span>\n        {isStreaming && (\n          <span className=\"inline-flex items-center gap-1.5 px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-500/15 text-primary border border-blue-500/25\">\n            <span className=\"w-1.5 h-1.5 rounded-full bg-current animate-pulse\" />\n            Thinking...\n          </span>\n        )}\n      </div>\n\n      {/* Action Buttons */}\n      <div className=\"flex items-center gap-1\">\n        {/* Undo */}\n        {onUndo && (\n          <button\n            type=\"button\"\n            onClick={onUndo}\n            disabled={!canUndo}\n            className={cn(\n              \"flex items-center justify-center w-8 h-8 rounded-md text-muted-foreground transition-colors hover:bg-muted hover:text-foreground\",\n              !canUndo && \"opacity-40 cursor-not-allowed pointer-events-none\",\n            )}\n            title=\"Undo (Ctrl+Z)\"\n            aria-label=\"Undo\"\n          >\n            <Undo2 size={16} />\n          </button>\n        )}\n\n        {/* Redo */}\n        {onRedo && (\n          <button\n            type=\"button\"\n            onClick={onRedo}\n            disabled={!canRedo}\n            className={cn(\n              \"flex items-center justify-center w-8 h-8 rounded-md text-muted-foreground transition-colors hover:bg-muted hover:text-foreground\",\n              !canRedo && \"opacity-40 cursor-not-allowed pointer-events-none\",\n            )}\n            title=\"Redo (Ctrl+Shift+Z)\"\n            aria-label=\"Redo\"\n          >\n            <Redo2 size={16} />\n          </button>\n        )}\n\n        {/* Settings */}\n        {onOpenSettings && (\n          <button\n            type=\"button\"\n            onClick={onOpenSettings}\n            className=\"flex items-center justify-center w-8 h-8 rounded-md text-muted-foreground transition-colors hover:bg-muted hover:text-foreground\"\n            title=\"Settings\"\n            aria-label=\"Open settings\"\n          >\n            <Settings size={16} />\n          </button>\n        )}\n\n        {/* Close */}\n        {showClose && onClose && (\n          <button\n            type=\"button\"\n            onClick={onClose}\n            className=\"flex items-center justify-center w-8 h-8 rounded-md text-muted-foreground transition-colors hover:bg-muted hover:text-foreground\"\n            title=\"Close\"\n            aria-label=\"Close chat\"\n          >\n            <X size={16} />\n          </button>\n        )}\n      </div>\n    </header>\n  );\n});\n","// Re-export from shared utils package\nexport { cn } from \"@onegenui/utils\";\n","\"use client\";\n\nimport {\n  memo,\n  useState,\n  useRef,\n  useCallback,\n  useEffect,\n  type KeyboardEvent,\n} from \"react\";\nimport { SendHorizontal, Paperclip } from \"lucide-react\";\nimport type { ChatInputProps } from \"../types\";\nimport { cn } from \"../utils/cn\";\nimport { DeepResearchToggle } from \"./DeepResearch/DeepResearchToggle\";\n\n/**\n * Chat Input Component\n *\n * Text input with auto-resize, Deep Research toggle, attachments, and keyboard shortcuts.\n */\nexport const ChatInput = memo(function ChatInput({\n  value,\n  onChange,\n  onSubmit,\n  placeholder = \"Type a message...\",\n  disabled = false,\n  isStreaming = false,\n  showDeepResearch = true,\n  onAttach,\n}: ChatInputProps & {\n  showDeepResearch?: boolean;\n  onAttach?: () => void;\n}) {\n  const textareaRef = useRef<HTMLTextAreaElement>(null);\n  const [isFocused, setIsFocused] = useState(false);\n\n  // Auto-resize textarea\n  useEffect(() => {\n    const textarea = textareaRef.current;\n    if (textarea) {\n      textarea.style.height = \"auto\";\n      textarea.style.height = `${Math.min(textarea.scrollHeight, 160)}px`;\n    }\n  }, [value]);\n\n  // Handle submit on Enter (without Shift)\n  const handleKeyDown = useCallback(\n    (e: KeyboardEvent<HTMLTextAreaElement>) => {\n      if (e.key === \"Enter\" && !e.shiftKey) {\n        e.preventDefault();\n        if (value.trim() && !disabled && !isStreaming) {\n          onSubmit();\n        }\n      }\n    },\n    [value, disabled, isStreaming, onSubmit],\n  );\n\n  const handleSubmit = useCallback(() => {\n    if (value.trim() && !disabled && !isStreaming) {\n      onSubmit();\n    }\n  }, [value, disabled, isStreaming, onSubmit]);\n\n  const isDisabled = disabled || isStreaming;\n  const canSend = value.trim().length > 0 && !isDisabled;\n\n  return (\n    <div className=\"border-t border-border bg-black/15\">\n      {/* Input Row */}\n      <div className=\"flex items-end gap-2 p-4\">\n        {/* Left Actions: Attach + Deep Research */}\n        <div className=\"flex items-center gap-1 shrink-0 self-end mb-1.5\">\n          {/* Attachment Button */}\n          {onAttach && (\n            <button\n              type=\"button\"\n              onClick={onAttach}\n              disabled={isDisabled}\n              className={cn(\n                \"flex items-center justify-center w-9 h-9 rounded-lg transition-colors\",\n                \"text-muted-foreground hover:text-foreground hover:bg-muted/50\",\n                isDisabled && \"opacity-50 cursor-not-allowed\",\n              )}\n              title=\"Attach file\"\n              aria-label=\"Attach file\"\n            >\n              <Paperclip size={18} />\n            </button>\n          )}\n\n          {/* Deep Research Toggle */}\n          {showDeepResearch && <DeepResearchToggle compact />}\n        </div>\n\n        {/* Textarea */}\n        <textarea\n          ref={textareaRef}\n          value={value}\n          onChange={(e) => onChange(e.target.value)}\n          onKeyDown={handleKeyDown}\n          onFocus={() => setIsFocused(true)}\n          onBlur={() => setIsFocused(false)}\n          placeholder={placeholder}\n          disabled={isDisabled}\n          rows={1}\n          className={cn(\n            \"flex-1 min-h-[44px] max-h-[160px] p-3 border border-border rounded-xl bg-card text-foreground text-base resize-none outline-none transition-colors\",\n            \"placeholder:text-muted-foreground\",\n            isFocused ? \"border-ring bg-muted/50\" : \"\",\n            isDisabled ? \"opacity-60 cursor-not-allowed\" : \"\",\n          )}\n          aria-label=\"Message input\"\n        />\n\n        {/* Send Button */}\n        <button\n          type=\"button\"\n          onClick={handleSubmit}\n          disabled={!canSend}\n          className={cn(\n            \"flex items-center justify-center w-11 h-11 p-0 border-none rounded-lg bg-primary text-white transition-all shrink-0 cursor-pointer hover:bg-primary/90 self-end\",\n            !canSend &&\n              \"bg-muted text-muted-foreground cursor-not-allowed hover:bg-muted\",\n          )}\n          title=\"Send message\"\n          aria-label=\"Send message\"\n        >\n          <SendHorizontal size={20} />\n        </button>\n      </div>\n    </div>\n  );\n});\n","\"use client\";\n\nimport { memo, useState, useCallback } from \"react\";\nimport { motion, AnimatePresence } from \"framer-motion\";\nimport { Search, Zap, Sparkles, ChevronUp, X } from \"lucide-react\";\nimport { useStore } from \"@onegenui/react\";\nimport type { DeepResearchEffortLevel } from \"@onegenui/react\";\nimport { cn } from \"../../utils/cn\";\n\ninterface DeepResearchToggleProps {\n  className?: string;\n  compact?: boolean;\n}\n\nconst EFFORT_CONFIG: Record<\n  DeepResearchEffortLevel,\n  { icon: typeof Search; label: string; time: string; color: string }\n> = {\n  standard: {\n    icon: Search,\n    label: \"Standard\",\n    time: \"~3 min\",\n    color: \"text-blue-500\",\n  },\n  deep: {\n    icon: Zap,\n    label: \"Deep\",\n    time: \"~10 min\",\n    color: \"text-amber-500\",\n  },\n  max: {\n    icon: Sparkles,\n    label: \"Max\",\n    time: \"~30 min\",\n    color: \"text-purple-500\",\n  },\n};\n\n/**\n * Compact Deep Research toggle for chat input bar\n */\nexport const DeepResearchToggle = memo(function DeepResearchToggle({\n  className,\n  compact = true,\n}: DeepResearchToggleProps) {\n  const [showOptions, setShowOptions] = useState(false);\n\n  const enabled = useStore((s) => s.deepResearchSettings.enabled);\n  const effortLevel = useStore((s) => s.deepResearchSettings.effortLevel);\n  const setEnabled = useStore((s) => s.setDeepResearchEnabled);\n  const setEffortLevel = useStore((s) => s.setDeepResearchEffortLevel);\n\n  const config = EFFORT_CONFIG[effortLevel];\n  const Icon = config.icon;\n\n  const handleToggle = useCallback(() => {\n    if (!enabled) {\n      setEnabled(true);\n    } else {\n      setShowOptions((prev) => !prev);\n    }\n  }, [enabled, setEnabled]);\n\n  const handleDisable = useCallback(\n    (e: React.MouseEvent) => {\n      e.stopPropagation();\n      setEnabled(false);\n      setShowOptions(false);\n    },\n    [setEnabled],\n  );\n\n  const handleSelectLevel = useCallback(\n    (level: DeepResearchEffortLevel) => {\n      setEffortLevel(level);\n      setShowOptions(false);\n    },\n    [setEffortLevel],\n  );\n\n  if (compact) {\n    return (\n      <div className={cn(\"relative\", className)}>\n        {/* Main Toggle Button */}\n        <button\n          type=\"button\"\n          onClick={handleToggle}\n          className={cn(\n            \"flex items-center gap-1.5 px-2.5 py-1.5 rounded-lg text-xs font-medium transition-all\",\n            enabled\n              ? \"bg-primary/15 text-primary border border-primary/30 hover:bg-primary/25\"\n              : \"bg-muted/50 text-muted-foreground hover:bg-muted hover:text-foreground border border-transparent\",\n          )}\n          title={\n            enabled ? `Deep Research: ${config.label}` : \"Enable Deep Research\"\n          }\n        >\n          <Icon size={14} className={enabled ? config.color : \"\"} />\n          {enabled && (\n            <>\n              <span className=\"hidden sm:inline\">{config.label}</span>\n              <ChevronUp\n                size={12}\n                className={cn(\n                  \"transition-transform\",\n                  showOptions ? \"rotate-180\" : \"\",\n                )}\n              />\n            </>\n          )}\n          {!enabled && <span className=\"hidden sm:inline\">Research</span>}\n        </button>\n\n        {/* Disable button when enabled */}\n        {enabled && (\n          <button\n            type=\"button\"\n            onClick={handleDisable}\n            className=\"absolute -top-1 -right-1 w-4 h-4 rounded-full bg-muted-foreground/20 hover:bg-destructive/20 hover:text-destructive flex items-center justify-center transition-colors\"\n            title=\"Disable Deep Research\"\n          >\n            <X size={10} />\n          </button>\n        )}\n\n        {/* Effort Level Popup */}\n        <AnimatePresence>\n          {showOptions && enabled && (\n            <motion.div\n              initial={{ opacity: 0, y: 8, scale: 0.95 }}\n              animate={{ opacity: 1, y: 0, scale: 1 }}\n              exit={{ opacity: 0, y: 8, scale: 0.95 }}\n              transition={{ duration: 0.15 }}\n              className=\"absolute bottom-full left-0 mb-2 p-1.5 bg-popover border border-border rounded-lg shadow-lg z-50 min-w-[140px]\"\n            >\n              {(Object.keys(EFFORT_CONFIG) as DeepResearchEffortLevel[]).map(\n                (level) => {\n                  const levelConfig = EFFORT_CONFIG[level];\n                  const LevelIcon = levelConfig.icon;\n                  const isSelected = level === effortLevel;\n\n                  return (\n                    <button\n                      key={level}\n                      type=\"button\"\n                      onClick={() => handleSelectLevel(level)}\n                      className={cn(\n                        \"flex items-center gap-2 w-full px-2.5 py-2 rounded-md text-xs transition-colors\",\n                        isSelected\n                          ? \"bg-primary/15 text-primary\"\n                          : \"hover:bg-muted text-muted-foreground hover:text-foreground\",\n                      )}\n                    >\n                      <LevelIcon size={14} className={levelConfig.color} />\n                      <span className=\"flex-1 text-left font-medium\">\n                        {levelConfig.label}\n                      </span>\n                      <span className=\"text-[10px] opacity-60\">\n                        {levelConfig.time}\n                      </span>\n                    </button>\n                  );\n                },\n              )}\n            </motion.div>\n          )}\n        </AnimatePresence>\n\n        {/* Click outside to close */}\n        {showOptions && (\n          <div\n            className=\"fixed inset-0 z-40\"\n            onClick={() => setShowOptions(false)}\n          />\n        )}\n      </div>\n    );\n  }\n\n  // Non-compact version (full width)\n  return (\n    <div\n      className={cn(\n        \"flex items-center gap-2 p-2 rounded-lg border\",\n        enabled\n          ? \"border-primary/30 bg-primary/5\"\n          : \"border-border bg-muted/30\",\n        className,\n      )}\n    >\n      <button\n        type=\"button\"\n        onClick={() => setEnabled(!enabled)}\n        className={cn(\n          \"w-8 h-4 rounded-full transition-colors relative\",\n          enabled ? \"bg-primary\" : \"bg-muted-foreground/30\",\n        )}\n      >\n        <motion.span\n          className=\"absolute top-0.5 w-3 h-3 rounded-full bg-white shadow\"\n          animate={{ left: enabled ? 16 : 2 }}\n          transition={{ type: \"spring\", stiffness: 500, damping: 30 }}\n        />\n      </button>\n\n      <div className=\"flex items-center gap-1.5 flex-1\">\n        <Search\n          size={14}\n          className={enabled ? \"text-primary\" : \"text-muted-foreground\"}\n        />\n        <span\n          className={cn(\n            \"text-xs font-medium\",\n            enabled ? \"text-foreground\" : \"text-muted-foreground\",\n          )}\n        >\n          Deep Research\n        </span>\n      </div>\n\n      {enabled && (\n        <div className=\"flex gap-1\">\n          {(Object.keys(EFFORT_CONFIG) as DeepResearchEffortLevel[]).map(\n            (level) => {\n              const levelConfig = EFFORT_CONFIG[level];\n              const LevelIcon = levelConfig.icon;\n              const isSelected = level === effortLevel;\n\n              return (\n                <button\n                  key={level}\n                  type=\"button\"\n                  onClick={() => setEffortLevel(level)}\n                  className={cn(\n                    \"p-1.5 rounded transition-colors\",\n                    isSelected\n                      ? \"bg-primary/20 text-primary\"\n                      : \"hover:bg-muted text-muted-foreground\",\n                  )}\n                  title={`${levelConfig.label} (${levelConfig.time})`}\n                >\n                  <LevelIcon size={14} />\n                </button>\n              );\n            },\n          )}\n        </div>\n      )}\n    </div>\n  );\n});\n","\"use client\";\n\nimport { memo } from \"react\";\nimport { Sparkles } from \"lucide-react\";\nimport type { EmptyStateProps } from \"../types\";\nimport { emptyStateStyles } from \"../styles\";\n\n/**\n * Empty State Component\n *\n * Displayed when there are no messages in the conversation.\n */\nexport const EmptyState = memo(function EmptyState({\n  title = \"Start a conversation\",\n  description = \"Ask me anything about your dashboard. I can help you create, modify, and analyze components.\",\n  icon,\n}: EmptyStateProps) {\n  return (\n    <div style={emptyStateStyles.container}>\n      <div style={emptyStateStyles.icon}>{icon || <Sparkles size={32} />}</div>\n      <h3 style={emptyStateStyles.title}>{title}</h3>\n      <p style={emptyStateStyles.description}>{description}</p>\n    </div>\n  );\n});\n","/**\n * Design Tokens for @onegenui/chat\n *\n * Centralized design system tokens for consistent styling.\n * Supports both light and dark themes with CSS custom properties.\n */\n\n// ─────────────────────────────────────────────────────────────────────────────\n// Colors\n// ─────────────────────────────────────────────────────────────────────────────\n\nexport const colors = {\n  // Panel backgrounds\n  panelBg: \"rgba(0, 0, 0, 0.4)\",\n  panelBgLight: \"rgba(255, 255, 255, 0.85)\",\n\n  // Surfaces\n  surface: \"rgba(255, 255, 255, 0.05)\",\n  surfaceHover: \"rgba(255, 255, 255, 0.08)\",\n  surfaceActive: \"rgba(255, 255, 255, 0.12)\",\n\n  // Borders\n  border: \"rgba(255, 255, 255, 0.08)\",\n  borderHover: \"rgba(255, 255, 255, 0.15)\",\n  borderFocus: \"rgba(59, 130, 246, 0.5)\",\n\n  // Message bubbles\n  userBubble:\n    \"linear-gradient(135deg, rgba(59, 130, 246, 0.9), rgba(99, 102, 241, 0.9))\",\n  assistantBubble: \"rgba(255, 255, 255, 0.06)\",\n\n  // Text\n  textPrimary: \"rgba(255, 255, 255, 0.95)\",\n  textSecondary: \"rgba(255, 255, 255, 0.65)\",\n  textMuted: \"rgba(255, 255, 255, 0.45)\",\n\n  // Accents\n  primary: \"var(--primary, #3b82f6)\",\n  success: \"#10b981\",\n  warning: \"#f59e0b\",\n  danger: \"#ef4444\",\n\n  // Overlays\n  overlay: \"rgba(0, 0, 0, 0.5)\",\n  overlayLight: \"rgba(0, 0, 0, 0.3)\",\n} as const;\n\n// ─────────────────────────────────────────────────────────────────────────────\n// Spacing\n// ─────────────────────────────────────────────────────────────────────────────\n\nexport const spacing = {\n  xs: 4,\n  sm: 8,\n  md: 12,\n  lg: 16,\n  xl: 20,\n  xxl: 24,\n  xxxl: 32,\n} as const;\n\n// ─────────────────────────────────────────────────────────────────────────────\n// Border Radius\n// ─────────────────────────────────────────────────────────────────────────────\n\nexport const radii = {\n  sm: 6,\n  md: 10,\n  lg: 14,\n  xl: 18,\n  xxl: 24,\n  full: 9999,\n} as const;\n\n// ─────────────────────────────────────────────────────────────────────────────\n// Typography\n// ─────────────────────────────────────────────────────────────────────────────\n\nexport const typography = {\n  fontFamily:\n    '-apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, sans-serif',\n\n  sizes: {\n    xs: 11,\n    sm: 13,\n    md: 14,\n    lg: 16,\n    xl: 18,\n  },\n\n  weights: {\n    normal: 400,\n    medium: 500,\n    semibold: 600,\n    bold: 700,\n  },\n\n  lineHeights: {\n    tight: 1.2,\n    normal: 1.5,\n    relaxed: 1.7,\n  },\n} as const;\n\n// ─────────────────────────────────────────────────────────────────────────────\n// Shadows\n// ─────────────────────────────────────────────────────────────────────────────\n\nexport const shadows = {\n  sm: \"0 2px 8px rgba(0, 0, 0, 0.15)\",\n  md: \"0 4px 16px rgba(0, 0, 0, 0.2)\",\n  lg: \"0 8px 32px rgba(0, 0, 0, 0.25)\",\n  xl: \"0 12px 48px rgba(0, 0, 0, 0.3)\",\n  glow: \"0 0 20px rgba(59, 130, 246, 0.3)\",\n} as const;\n\n// ─────────────────────────────────────────────────────────────────────────────\n// Glassmorphism\n// ─────────────────────────────────────────────────────────────────────────────\n\nexport const glass = {\n  blur: \"blur(20px)\",\n  blurLight: \"blur(12px)\",\n  blurHeavy: \"blur(32px)\",\n} as const;\n\n// ─────────────────────────────────────────────────────────────────────────────\n// Z-Index\n// ─────────────────────────────────────────────────────────────────────────────\n\nexport const zIndex = {\n  base: 1,\n  dropdown: 10,\n  sticky: 20,\n  modal: 30,\n  popover: 40,\n  tooltip: 50,\n  chat: 100,\n  overlay: 200,\n} as const;\n\n// ─────────────────────────────────────────────────────────────────────────────\n// Breakpoints\n// ─────────────────────────────────────────────────────────────────────────────\n\nexport const breakpoints = {\n  mobile: 640,\n  tablet: 768,\n  desktop: 1024,\n  wide: 1280,\n} as const;\n\n// ─────────────────────────────────────────────────────────────────────────────\n// Panel Dimensions\n// ─────────────────────────────────────────────────────────────────────────────\n\nexport const panelDimensions = {\n  minWidth: 320,\n  maxWidth: 600,\n  defaultWidth: 400,\n  mobileHeight: \"85vh\",\n  headerHeight: 56,\n  inputHeight: 60,\n} as const;\n","/**\n * Animation definitions for @onegenui/chat\n *\n * Smooth, purposeful animations that enhance UX without being distracting.\n * Uses CSS keyframes and spring physics for natural motion.\n */\n\nimport type { CSSProperties } from \"react\";\n\n// ─────────────────────────────────────────────────────────────────────────────\n// Timing Functions\n// ─────────────────────────────────────────────────────────────────────────────\n\nexport const easing = {\n  // Standard easing\n  ease: \"cubic-bezier(0.4, 0, 0.2, 1)\",\n  easeIn: \"cubic-bezier(0.4, 0, 1, 1)\",\n  easeOut: \"cubic-bezier(0, 0, 0.2, 1)\",\n  easeInOut: \"cubic-bezier(0.4, 0, 0.2, 1)\",\n\n  // Spring-like\n  spring: \"cubic-bezier(0.34, 1.56, 0.64, 1)\",\n  bounce: \"cubic-bezier(0.68, -0.55, 0.265, 1.55)\",\n\n  // Smooth\n  smooth: \"cubic-bezier(0.25, 0.1, 0.25, 1)\",\n} as const;\n\n// ─────────────────────────────────────────────────────────────────────────────\n// Durations\n// ─────────────────────────────────────────────────────────────────────────────\n\nexport const duration = {\n  instant: 50,\n  fast: 100,\n  normal: 200,\n  slow: 300,\n  slower: 400,\n  slowest: 500,\n} as const;\n\n// ─────────────────────────────────────────────────────────────────────────────\n// Transition Presets\n// ─────────────────────────────────────────────────────────────────────────────\n\nexport const transitions = {\n  // Common transitions\n  default: `all ${duration.normal}ms ${easing.ease}`,\n  fast: `all ${duration.fast}ms ${easing.ease}`,\n  slow: `all ${duration.slow}ms ${easing.ease}`,\n\n  // Specific properties\n  opacity: `opacity ${duration.normal}ms ${easing.ease}`,\n  transform: `transform ${duration.normal}ms ${easing.spring}`,\n  colors: `background-color ${duration.fast}ms ${easing.ease}, border-color ${duration.fast}ms ${easing.ease}, color ${duration.fast}ms ${easing.ease}`,\n  shadow: `box-shadow ${duration.normal}ms ${easing.ease}`,\n\n  // Combined\n  interactive: `transform ${duration.fast}ms ${easing.spring}, opacity ${duration.fast}ms ${easing.ease}, background-color ${duration.fast}ms ${easing.ease}`,\n} as const;\n\n// ─────────────────────────────────────────────────────────────────────────────\n// Animation Keyframes (as CSS strings for injection)\n// ─────────────────────────────────────────────────────────────────────────────\n\nexport const keyframes = {\n  fadeIn: `\n    @keyframes fadeIn {\n      from { opacity: 0; }\n      to { opacity: 1; }\n    }\n  `,\n\n  fadeOut: `\n    @keyframes fadeOut {\n      from { opacity: 1; }\n      to { opacity: 0; }\n    }\n  `,\n\n  slideUp: `\n    @keyframes slideUp {\n      from { \n        opacity: 0;\n        transform: translateY(10px);\n      }\n      to { \n        opacity: 1;\n        transform: translateY(0);\n      }\n    }\n  `,\n\n  slideDown: `\n    @keyframes slideDown {\n      from { \n        opacity: 0;\n        transform: translateY(-10px);\n      }\n      to { \n        opacity: 1;\n        transform: translateY(0);\n      }\n    }\n  `,\n\n  slideInRight: `\n    @keyframes slideInRight {\n      from { \n        opacity: 0;\n        transform: translateX(20px);\n      }\n      to { \n        opacity: 1;\n        transform: translateX(0);\n      }\n    }\n  `,\n\n  slideInLeft: `\n    @keyframes slideInLeft {\n      from { \n        opacity: 0;\n        transform: translateX(-20px);\n      }\n      to { \n        opacity: 1;\n        transform: translateX(0);\n      }\n    }\n  `,\n\n  scaleIn: `\n    @keyframes scaleIn {\n      from { \n        opacity: 0;\n        transform: scale(0.95);\n      }\n      to { \n        opacity: 1;\n        transform: scale(1);\n      }\n    }\n  `,\n\n  pulse: `\n    @keyframes pulse {\n      0%, 100% { opacity: 1; }\n      50% { opacity: 0.5; }\n    }\n  `,\n\n  spin: `\n    @keyframes spin {\n      from { transform: rotate(0deg); }\n      to { transform: rotate(360deg); }\n    }\n  `,\n\n  shimmer: `\n    @keyframes shimmer {\n      0% { background-position: -200% 0; }\n      100% { background-position: 200% 0; }\n    }\n  `,\n\n  bounce: `\n    @keyframes bounce {\n      0%, 100% { transform: translateY(0); }\n      50% { transform: translateY(-5px); }\n    }\n  `,\n\n  typingDot: `\n    @keyframes typingDot {\n      0%, 60%, 100% { \n        opacity: 0.3;\n        transform: translateY(0);\n      }\n      30% { \n        opacity: 1;\n        transform: translateY(-4px);\n      }\n    }\n  `,\n} as const;\n\n// ─────────────────────────────────────────────────────────────────────────────\n// Animation Styles\n// ─────────────────────────────────────────────────────────────────────────────\n\nexport const animations: Record<string, CSSProperties> = {\n  fadeIn: {\n    animation: `fadeIn ${duration.normal}ms ${easing.ease} forwards`,\n  },\n\n  fadeOut: {\n    animation: `fadeOut ${duration.fast}ms ${easing.ease} forwards`,\n  },\n\n  slideUp: {\n    animation: `slideUp ${duration.slow}ms ${easing.spring} forwards`,\n  },\n\n  slideDown: {\n    animation: `slideDown ${duration.slow}ms ${easing.spring} forwards`,\n  },\n\n  slideInRight: {\n    animation: `slideInRight ${duration.slow}ms ${easing.spring} forwards`,\n  },\n\n  slideInLeft: {\n    animation: `slideInLeft ${duration.slow}ms ${easing.spring} forwards`,\n  },\n\n  scaleIn: {\n    animation: `scaleIn ${duration.normal}ms ${easing.spring} forwards`,\n  },\n\n  pulse: {\n    animation: `pulse 2s ${easing.ease} infinite`,\n  },\n\n  spin: {\n    animation: `spin 1s linear infinite`,\n  },\n\n  shimmer: {\n    animation: `shimmer 2s linear infinite`,\n    backgroundSize: \"200% 100%\",\n  },\n};\n\n// ─────────────────────────────────────────────────────────────────────────────\n// Hover States\n// ─────────────────────────────────────────────────────────────────────────────\n\nexport const hoverStyles = {\n  lift: {\n    transform: \"translateY(-2px)\",\n    boxShadow: \"0 4px 12px rgba(0, 0, 0, 0.15)\",\n  },\n\n  scale: {\n    transform: \"scale(1.02)\",\n  },\n\n  glow: {\n    boxShadow: \"0 0 20px rgba(59, 130, 246, 0.4)\",\n  },\n\n  brighten: {\n    filter: \"brightness(1.1)\",\n  },\n} as const;\n\n// ─────────────────────────────────────────────────────────────────────────────\n// Active/Press States\n// ─────────────────────────────────────────────────────────────────────────────\n\nexport const activeStyles = {\n  press: {\n    transform: \"scale(0.98)\",\n  },\n\n  sink: {\n    transform: \"translateY(1px)\",\n  },\n} as const;\n","/**\n * Component Styles for @onegenui/chat\n *\n * Pre-built style objects for chat components using design tokens.\n */\n\nimport type { CSSProperties } from \"react\";\nimport {\n  colors,\n  spacing,\n  radii,\n  typography,\n  shadows,\n  glass,\n  panelDimensions,\n} from \"./tokens\";\nimport { transitions } from \"./animations\";\n\n// ─────────────────────────────────────────────────────────────────────────────\n// Chat Panel\n// ─────────────────────────────────────────────────────────────────────────────\n\nexport const chatPanelStyles = {\n  container: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    height: \"100%\",\n    background: colors.panelBg,\n    backdropFilter: glass.blur,\n    WebkitBackdropFilter: glass.blur,\n    borderLeft: `1px solid ${colors.border}`,\n    overflow: \"hidden\",\n  } as CSSProperties,\n\n  containerMobile: {\n    position: \"fixed\",\n    bottom: 0,\n    left: 0,\n    right: 0,\n    maxHeight: panelDimensions.mobileHeight,\n    borderRadius: `${radii.xxl}px ${radii.xxl}px 0 0`,\n    borderLeft: \"none\",\n    borderTop: `1px solid ${colors.border}`,\n    boxShadow: shadows.xl,\n  } as CSSProperties,\n};\n\n// ─────────────────────────────────────────────────────────────────────────────\n// Header\n// ─────────────────────────────────────────────────────────────────────────────\n\nexport const headerStyles = {\n  container: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"space-between\",\n    padding: `${spacing.md}px ${spacing.lg}px`,\n    minHeight: panelDimensions.headerHeight,\n    borderBottom: `1px solid ${colors.border}`,\n    background: \"rgba(0, 0, 0, 0.2)\",\n  } as CSSProperties,\n\n  title: {\n    display: \"flex\",\n    alignItems: \"center\",\n    gap: spacing.sm,\n    fontSize: typography.sizes.md,\n    fontWeight: typography.weights.semibold,\n    color: colors.textPrimary,\n  } as CSSProperties,\n\n  badge: {\n    display: \"inline-flex\",\n    alignItems: \"center\",\n    gap: 4,\n    padding: \"4px 10px\",\n    borderRadius: radii.full,\n    fontSize: typography.sizes.xs,\n    fontWeight: typography.weights.medium,\n    background: \"rgba(59, 130, 246, 0.15)\",\n    color: colors.primary,\n    border: \"1px solid rgba(59, 130, 246, 0.25)\",\n  } as CSSProperties,\n\n  controls: {\n    display: \"flex\",\n    alignItems: \"center\",\n    gap: spacing.xs,\n  } as CSSProperties,\n};\n\n// ─────────────────────────────────────────────────────────────────────────────\n// Icon Button\n// ─────────────────────────────────────────────────────────────────────────────\n\nexport const iconButtonStyles = {\n  base: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    width: 32,\n    height: 32,\n    padding: 0,\n    border: \"none\",\n    borderRadius: radii.md,\n    background: \"transparent\",\n    color: colors.textSecondary,\n    cursor: \"pointer\",\n    transition: transitions.interactive,\n  } as CSSProperties,\n\n  hover: {\n    background: colors.surfaceHover,\n    color: colors.textPrimary,\n  } as CSSProperties,\n\n  active: {\n    background: colors.surfaceActive,\n    transform: \"scale(0.95)\",\n  } as CSSProperties,\n\n  disabled: {\n    opacity: 0.4,\n    cursor: \"not-allowed\",\n    pointerEvents: \"none\" as const,\n  } as CSSProperties,\n};\n\n// ─────────────────────────────────────────────────────────────────────────────\n// Messages\n// ─────────────────────────────────────────────────────────────────────────────\n\nexport const messageStyles = {\n  container: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    gap: spacing.lg,\n    padding: spacing.lg,\n    overflowY: \"auto\",\n    flex: 1,\n  } as CSSProperties,\n\n  userBubble: {\n    alignSelf: \"flex-end\",\n    maxWidth: \"85%\",\n    padding: `${spacing.md}px ${spacing.lg}px`,\n    borderRadius: `${radii.xl}px ${radii.xl}px ${radii.sm}px ${radii.xl}px`,\n    background: colors.userBubble,\n    color: \"white\",\n    fontSize: typography.sizes.md,\n    lineHeight: typography.lineHeights.normal,\n    boxShadow: shadows.md,\n  } as CSSProperties,\n\n  assistantBubble: {\n    alignSelf: \"flex-start\",\n    maxWidth: \"90%\",\n    padding: `${spacing.md}px ${spacing.lg}px`,\n    borderRadius: `${radii.xl}px ${radii.xl}px ${radii.xl}px ${radii.sm}px`,\n    background: colors.assistantBubble,\n    color: colors.textPrimary,\n    fontSize: typography.sizes.md,\n    lineHeight: typography.lineHeights.relaxed,\n    border: `1px solid ${colors.border}`,\n  } as CSSProperties,\n\n  timestamp: {\n    fontSize: typography.sizes.xs,\n    color: colors.textMuted,\n    marginTop: spacing.xs,\n  } as CSSProperties,\n};\n\n// ─────────────────────────────────────────────────────────────────────────────\n// Input Area\n// ─────────────────────────────────────────────────────────────────────────────\n\nexport const inputStyles = {\n  container: {\n    display: \"flex\",\n    alignItems: \"flex-end\",\n    gap: spacing.sm,\n    padding: spacing.lg,\n    borderTop: `1px solid ${colors.border}`,\n    background: \"rgba(0, 0, 0, 0.15)\",\n  } as CSSProperties,\n\n  textArea: {\n    flex: 1,\n    minHeight: 44,\n    maxHeight: 160,\n    padding: `${spacing.md}px ${spacing.lg}px`,\n    border: `1px solid ${colors.border}`,\n    borderRadius: radii.xl,\n    background: colors.surface,\n    color: colors.textPrimary,\n    fontSize: typography.sizes.md,\n    fontFamily: typography.fontFamily,\n    lineHeight: typography.lineHeights.normal,\n    resize: \"none\" as const,\n    outline: \"none\",\n    transition: transitions.colors,\n  } as CSSProperties,\n\n  textAreaFocus: {\n    borderColor: colors.borderFocus,\n    background: colors.surfaceHover,\n  } as CSSProperties,\n\n  sendButton: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    width: 44,\n    height: 44,\n    padding: 0,\n    border: \"none\",\n    borderRadius: radii.lg,\n    background: colors.primary,\n    color: \"white\",\n    cursor: \"pointer\",\n    transition: transitions.interactive,\n    flexShrink: 0,\n  } as CSSProperties,\n\n  sendButtonDisabled: {\n    background: colors.surface,\n    color: colors.textMuted,\n    cursor: \"not-allowed\",\n  } as CSSProperties,\n};\n\n// ─────────────────────────────────────────────────────────────────────────────\n// Empty State\n// ─────────────────────────────────────────────────────────────────────────────\n\nexport const emptyStateStyles = {\n  container: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    flex: 1,\n    padding: spacing.xxxl,\n    textAlign: \"center\" as const,\n  } as CSSProperties,\n\n  icon: {\n    width: 64,\n    height: 64,\n    marginBottom: spacing.lg,\n    padding: spacing.lg,\n    borderRadius: radii.xxl,\n    background: \"rgba(59, 130, 246, 0.1)\",\n    color: colors.primary,\n  } as CSSProperties,\n\n  title: {\n    fontSize: typography.sizes.lg,\n    fontWeight: typography.weights.semibold,\n    color: colors.textPrimary,\n    marginBottom: spacing.sm,\n  } as CSSProperties,\n\n  description: {\n    fontSize: typography.sizes.md,\n    color: colors.textSecondary,\n    maxWidth: 280,\n    lineHeight: typography.lineHeights.relaxed,\n  } as CSSProperties,\n};\n\n// ─────────────────────────────────────────────────────────────────────────────\n// Question Form\n// ─────────────────────────────────────────────────────────────────────────────\n\nexport const questionFormStyles = {\n  container: {\n    padding: spacing.lg,\n    borderRadius: radii.xl,\n    background: \"rgba(59, 130, 246, 0.08)\",\n    border: `1px solid rgba(59, 130, 246, 0.2)`,\n    marginTop: spacing.sm,\n  } as CSSProperties,\n\n  title: {\n    fontSize: typography.sizes.md,\n    fontWeight: typography.weights.medium,\n    color: colors.textPrimary,\n    marginBottom: spacing.md,\n  } as CSSProperties,\n\n  field: {\n    marginBottom: spacing.md,\n  } as CSSProperties,\n\n  label: {\n    display: \"block\",\n    fontSize: typography.sizes.sm,\n    fontWeight: typography.weights.medium,\n    color: colors.textSecondary,\n    marginBottom: spacing.xs,\n  } as CSSProperties,\n\n  input: {\n    width: \"100%\",\n    padding: `${spacing.sm}px ${spacing.md}px`,\n    border: `1px solid ${colors.border}`,\n    borderRadius: radii.md,\n    background: colors.surface,\n    color: colors.textPrimary,\n    fontSize: typography.sizes.md,\n    outline: \"none\",\n    transition: transitions.colors,\n  } as CSSProperties,\n\n  submitButton: {\n    width: \"100%\",\n    padding: `${spacing.md}px`,\n    border: \"none\",\n    borderRadius: radii.lg,\n    background: colors.primary,\n    color: \"white\",\n    fontSize: typography.sizes.md,\n    fontWeight: typography.weights.medium,\n    cursor: \"pointer\",\n    transition: transitions.interactive,\n  } as CSSProperties,\n};\n\n// ─────────────────────────────────────────────────────────────────────────────\n// Suggestion Chips\n// ─────────────────────────────────────────────────────────────────────────────\n\nexport const suggestionChipStyles = {\n  container: {\n    display: \"flex\",\n    flexWrap: \"wrap\" as const,\n    gap: spacing.sm,\n    padding: `${spacing.md}px ${spacing.lg}px`,\n  } as CSSProperties,\n\n  chip: {\n    display: \"inline-flex\",\n    alignItems: \"center\",\n    gap: spacing.xs,\n    padding: `${spacing.sm}px ${spacing.md}px`,\n    border: `1px solid ${colors.border}`,\n    borderRadius: radii.full,\n    background: colors.surface,\n    color: colors.textSecondary,\n    fontSize: typography.sizes.sm,\n    cursor: \"pointer\",\n    transition: transitions.interactive,\n  } as CSSProperties,\n\n  chipHover: {\n    background: colors.surfaceHover,\n    borderColor: colors.borderHover,\n    color: colors.textPrimary,\n  } as CSSProperties,\n\n  chipPrimary: {\n    background: \"rgba(59, 130, 246, 0.15)\",\n    borderColor: \"rgba(59, 130, 246, 0.3)\",\n    color: colors.primary,\n  } as CSSProperties,\n};\n\n// ─────────────────────────────────────────────────────────────────────────────\n// Mobile Swipe Handle\n// ─────────────────────────────────────────────────────────────────────────────\n\nexport const swipeHandleStyles = {\n  container: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    padding: `${spacing.sm}px 0`,\n  } as CSSProperties,\n\n  handle: {\n    width: 40,\n    height: 4,\n    borderRadius: radii.full,\n    background: colors.border,\n  } as CSSProperties,\n};\n\n// ─────────────────────────────────────────────────────────────────────────────\n// Typing Indicator\n// ─────────────────────────────────────────────────────────────────────────────\n\nexport const typingIndicatorStyles = {\n  container: {\n    display: \"flex\",\n    alignItems: \"center\",\n    gap: 4,\n    padding: `${spacing.md}px ${spacing.lg}px`,\n  } as CSSProperties,\n\n  dot: {\n    width: 8,\n    height: 8,\n    borderRadius: \"50%\",\n    background: colors.textMuted,\n    animation: \"typingDot 1.4s ease-in-out infinite\",\n  } as CSSProperties,\n};\n","\"use client\";\n\nimport { memo } from \"react\";\nimport type { SuggestionChipsProps } from \"../types\";\nimport { suggestionChipStyles, transitions } from \"../styles\";\n\n/**\n * Suggestion Chips Component\n *\n * Quick action buttons suggested by the AI.\n */\nexport const SuggestionChips = memo(function SuggestionChips({\n  suggestions,\n  onClick,\n  disabled = false,\n}: SuggestionChipsProps) {\n  if (!suggestions || suggestions.length === 0) {\n    return null;\n  }\n\n  return (\n    <div style={suggestionChipStyles.container}>\n      {suggestions.map((suggestion, index) => (\n        <button\n          key={suggestion.id || `suggestion-${index}`}\n          type=\"button\"\n          onClick={() => onClick(suggestion)}\n          disabled={disabled}\n          style={{\n            ...suggestionChipStyles.chip,\n            transition: transitions.interactive,\n            opacity: disabled ? 0.5 : 1,\n            cursor: disabled ? \"not-allowed\" : \"pointer\",\n          }}\n          aria-label={suggestion.label}\n        >\n          {suggestion.label}\n        </button>\n      ))}\n    </div>\n  );\n});\n","\"use client\";\n\nimport { memo } from \"react\";\n\n/**\n * Typing Indicator Component\n *\n * Animated dots shown when AI is generating a response.\n */\nexport const TypingIndicator = memo(function TypingIndicator() {\n  return (\n    <div className=\"flex items-center gap-1 px-4 py-3\">\n      {[0, 1, 2].map((i) => (\n        <span\n          key={i}\n          className=\"w-2 h-2 rounded-full bg-white/40 animate-bounce\"\n          style={{\n            animationDelay: `${i * 0.15}s`,\n            animationDuration: \"1s\",\n          }}\n        />\n      ))}\n    </div>\n  );\n});\n","\"use client\";\n\nimport { useState, useCallback, type FormEvent } from \"react\";\nimport type { QuestionPayload, FormField } from \"@onegenui/react\";\nimport {\n  CONTAINER_CLASS,\n  QUESTION_TEXT_CLASS,\n  SUBMIT_BUTTON_CLASS,\n} from \"./styles\";\nimport { FieldRenderer } from \"./field-renderer\";\nimport { QuickReplyForm } from \"./quick-reply-form\";\n\ninterface QuestionFormProps {\n  question: QuestionPayload;\n  onSubmit: (answers: Record<string, unknown>) => void;\n  onSkip?: () => void;\n  isSubmitting?: boolean;\n}\n\nexport function QuestionForm({\n  question,\n  onSubmit,\n  onSkip,\n  isSubmitting = false,\n}: QuestionFormProps) {\n  const [showCustomInput, setShowCustomInput] = useState<\n    Record<string, boolean>\n  >({});\n  const [customValues, setCustomValues] = useState<Record<string, string>>({});\n\n  const [values, setValues] = useState<Record<string, unknown>>(() => {\n    const initial: Record<string, unknown> = {};\n    if (question.fields) {\n      for (const field of question.fields) {\n        if (field.defaultValue !== undefined) {\n          initial[field.id] = field.defaultValue;\n        } else if (field.type === \"checkbox\") {\n          initial[field.id] = false;\n        } else {\n          initial[field.id] = \"\";\n        }\n      }\n    }\n    if (question.type === \"quick-reply\" && question.multiple) {\n      initial[\"selected\"] = [];\n    }\n    return initial;\n  });\n\n  const handleFieldChange = useCallback((fieldId: string, value: unknown) => {\n    setValues((prev) => ({ ...prev, [fieldId]: value }));\n    if (value !== \"__custom__\") {\n      setShowCustomInput((prev) => ({ ...prev, [fieldId]: false }));\n    }\n  }, []);\n\n  const handleCustomToggle = useCallback((fieldId: string, show: boolean) => {\n    setShowCustomInput((prev) => ({ ...prev, [fieldId]: show }));\n    if (show) {\n      setValues((prev) => ({ ...prev, [fieldId]: \"__custom__\" }));\n    }\n  }, []);\n\n  const handleCustomValueChange = useCallback(\n    (fieldId: string, value: string) => {\n      setCustomValues((prev) => ({ ...prev, [fieldId]: value }));\n    },\n    [],\n  );\n\n  const handleSubmit = useCallback(\n    (e: FormEvent) => {\n      e.preventDefault();\n      const finalValues = { ...values };\n      for (const [fieldId, isCustom] of Object.entries(showCustomInput)) {\n        if (isCustom && customValues[fieldId]) {\n          finalValues[fieldId] = customValues[fieldId];\n        }\n      }\n      onSubmit(finalValues);\n    },\n    [onSubmit, values, showCustomInput, customValues],\n  );\n\n  const handleQuickReply = useCallback(\n    (optionValue: string) => {\n      if (question.multiple) {\n        setValues((prev) => {\n          const selected = (prev[\"selected\"] as string[]) || [];\n          if (selected.includes(optionValue)) {\n            return {\n              ...prev,\n              selected: selected.filter((v) => v !== optionValue),\n            };\n          }\n          return { ...prev, selected: [...selected, optionValue] };\n        });\n      } else {\n        onSubmit({ selected: optionValue });\n      }\n    },\n    [question.multiple, onSubmit],\n  );\n\n  // Text-based question (informational only)\n  if (question.type === \"text\") {\n    return (\n      <div className={CONTAINER_CLASS}>\n        <div className={QUESTION_TEXT_CLASS}>{question.text}</div>\n      </div>\n    );\n  }\n\n  // Quick Reply\n  if (question.type === \"quick-reply\") {\n    const selectedOptions = question.multiple\n      ? (values[\"selected\"] as string[]) || []\n      : [];\n    const isCustomMode = showCustomInput[\"quick-reply\"];\n\n    return (\n      <QuickReplyForm\n        question={question}\n        selectedOptions={selectedOptions}\n        isCustomMode={isCustomMode ?? false}\n        customValue={customValues[\"quick-reply\"] || \"\"}\n        isSubmitting={isSubmitting}\n        onQuickReply={handleQuickReply}\n        onCustomToggle={handleCustomToggle}\n        onCustomValueChange={handleCustomValueChange}\n        onSubmit={onSubmit}\n      />\n    );\n  }\n\n  // Form-based question (default)\n  const hasFields = question.fields && question.fields.length > 0;\n\n  return (\n    <div className={CONTAINER_CLASS}>\n      {question.text && (\n        <div className={QUESTION_TEXT_CLASS}>{question.text}</div>\n      )}\n      <form onSubmit={handleSubmit} className=\"flex flex-col gap-3\">\n        {hasFields ? (\n          question.fields?.map((field) => (\n            <div key={field.id} className=\"flex flex-col gap-1 w-full relative\">\n              {field.type !== \"checkbox\" && (\n                <label className=\"text-xs font-medium text-muted-foreground\">\n                  {field.label}\n                  {field.validation?.required && (\n                    <span className=\"text-destructive ml-0.5\"> *</span>\n                  )}\n                </label>\n              )}\n              <FieldRenderer\n                field={field}\n                value={values[field.id]}\n                isSubmitting={isSubmitting}\n                isCustomSelected={showCustomInput[field.id] ?? false}\n                customValue={customValues[field.id] || \"\"}\n                onFieldChange={handleFieldChange}\n                onCustomToggle={handleCustomToggle}\n                onCustomValueChange={handleCustomValueChange}\n              />\n            </div>\n          ))\n        ) : (\n          <div className=\"flex flex-col gap-1 w-full\">\n            <input\n              type=\"text\"\n              value={(values[\"response\"] as string) || \"\"}\n              onChange={(e) => handleFieldChange(\"response\", e.target.value)}\n              placeholder=\"Type your response...\"\n              className=\"px-3 py-2.5 rounded-lg border border-white/10 bg-background text-foreground text-sm outline-none transition-colors focus:border-primary/50 disabled:opacity-50 disabled:cursor-not-allowed w-full\"\n              disabled={isSubmitting}\n            />\n          </div>\n        )}\n        <div className=\"flex gap-2 justify-end mt-2\">\n          {!question.required && onSkip && (\n            <button\n              type=\"button\"\n              onClick={onSkip}\n              disabled={isSubmitting}\n              className=\"px-5 py-2.5 rounded-lg border border-white/10 bg-transparent text-muted-foreground text-sm font-medium cursor-pointer transition-all hover:bg-white/5 disabled:opacity-60 disabled:cursor-not-allowed\"\n            >\n              Skip\n            </button>\n          )}\n          <button\n            type=\"submit\"\n            disabled={isSubmitting}\n            className={SUBMIT_BUTTON_CLASS}\n          >\n            {isSubmitting ? \"Submitting...\" : \"Submit\"}\n          </button>\n        </div>\n      </form>\n    </div>\n  );\n}\n","import { cn } from \"../../utils/cn\";\n\nexport const BUTTON_BASE_CLASS =\n  \"px-3 sm:px-4 py-2 rounded-full border text-[12px] sm:text-[13px] font-medium cursor-pointer transition-all disabled:opacity-60 disabled:cursor-not-allowed\";\n\nexport const INPUT_CLASS =\n  \"px-3 py-2 sm:py-2.5 rounded-lg border border-white/10 bg-background text-foreground text-[13px] sm:text-sm outline-none transition-colors focus:border-primary/50 disabled:opacity-50 disabled:cursor-not-allowed w-full\";\n\nexport const CONTAINER_CLASS =\n  \"p-3 sm:p-4 rounded-xl bg-blue-500/5 sm:bg-blue-500/10 border border-blue-500/20 mt-2\";\n\nexport const QUESTION_TEXT_CLASS =\n  \"text-[13px] sm:text-sm font-medium text-foreground mb-2 sm:mb-3\";\n\nexport const SUBMIT_BUTTON_CLASS =\n  \"px-4 sm:px-5 py-2 sm:py-2.5 rounded-lg border-none bg-primary text-primary-foreground text-[13px] sm:text-sm font-medium cursor-pointer transition-all hover:bg-primary/90 disabled:opacity-60 disabled:cursor-not-allowed\";\n\nexport function getQuickReplyButtonClass(\n  variant: string = \"default\",\n  isSelected: boolean,\n): string {\n  const variants: Record<string, string> = {\n    default: isSelected\n      ? \"bg-white/15 border-white/15 text-foreground\"\n      : \"bg-white/5 border-white/15 text-foreground hover:bg-white/10\",\n    primary: isSelected\n      ? \"bg-blue-500/25 border-blue-500/30 text-foreground\"\n      : \"bg-blue-500/10 border-blue-500/30 text-foreground hover:bg-blue-500/20\",\n    success: isSelected\n      ? \"bg-green-500/25 border-green-500/30 text-green-500\"\n      : \"bg-green-500/10 border-green-500/30 text-green-500 hover:bg-green-500/20\",\n    danger: isSelected\n      ? \"bg-red-500/25 border-red-500/30 text-red-500\"\n      : \"bg-red-500/10 border-red-500/30 text-red-500 hover:bg-red-500/20\",\n  };\n\n  const variantClass = variants[variant] || variants.default;\n  return cn(BUTTON_BASE_CLASS, variantClass);\n}\n","\"use client\";\n\nimport { useCallback } from \"react\";\nimport type { FormField } from \"@onegenui/react\";\nimport { cn } from \"../../utils/cn\";\nimport { INPUT_CLASS } from \"./styles\";\n\ninterface FieldRendererProps {\n  field: FormField;\n  value: unknown;\n  isSubmitting: boolean;\n  isCustomSelected: boolean;\n  customValue: string;\n  onFieldChange: (fieldId: string, value: unknown) => void;\n  onCustomToggle: (fieldId: string, show: boolean) => void;\n  onCustomValueChange: (fieldId: string, value: string) => void;\n}\n\nexport function FieldRenderer({\n  field,\n  value,\n  isSubmitting,\n  isCustomSelected,\n  customValue,\n  onFieldChange,\n  onCustomToggle,\n  onCustomValueChange,\n}: FieldRendererProps) {\n  switch (field.type) {\n    case \"text\":\n    case \"date\":\n      return (\n        <input\n          type={field.type}\n          value={(value as string) || \"\"}\n          onChange={(e) => onFieldChange(field.id, e.target.value)}\n          placeholder={field.placeholder}\n          className={INPUT_CLASS}\n          disabled={isSubmitting}\n          required={field.validation?.required}\n          minLength={field.validation?.minLength}\n          maxLength={field.validation?.maxLength}\n          pattern={field.validation?.pattern}\n        />\n      );\n\n    case \"number\":\n      return (\n        <input\n          type=\"number\"\n          value={(value as number) ?? \"\"}\n          onChange={(e) =>\n            onFieldChange(field.id, e.target.valueAsNumber || \"\")\n          }\n          placeholder={field.placeholder}\n          className={INPUT_CLASS}\n          disabled={isSubmitting}\n          required={field.validation?.required}\n          min={field.validation?.min}\n          max={field.validation?.max}\n        />\n      );\n\n    case \"textarea\":\n      return (\n        <textarea\n          value={(value as string) || \"\"}\n          onChange={(e) => onFieldChange(field.id, e.target.value)}\n          placeholder={field.placeholder}\n          className={cn(INPUT_CLASS, \"min-h-[80px] resize-y\")}\n          disabled={isSubmitting}\n          required={field.validation?.required}\n          minLength={field.validation?.minLength}\n          maxLength={field.validation?.maxLength}\n        />\n      );\n\n    case \"select\":\n      return (\n        <div className=\"flex flex-col gap-2 w-full\">\n          <select\n            value={isCustomSelected ? \"__custom__\" : (value as string) || \"\"}\n            onChange={(e) => {\n              const val = e.target.value;\n              if (val === \"__custom__\" && field.allowCustom) {\n                onCustomToggle(field.id, true);\n              } else {\n                onFieldChange(field.id, val);\n              }\n            }}\n            className={cn(INPUT_CLASS, \"cursor-pointer\")}\n            disabled={isSubmitting}\n            required={field.validation?.required && !isCustomSelected}\n          >\n            <option value=\"\">\n              {field.placeholder || \"Select an option...\"}\n            </option>\n            {field.options?.map((opt) => (\n              <option key={opt.value} value={opt.value}>\n                {opt.label}\n              </option>\n            ))}\n            {field.allowCustom && <option value=\"__custom__\">Other...</option>}\n          </select>\n          {isCustomSelected && (\n            <input\n              type=\"text\"\n              value={customValue || \"\"}\n              onChange={(e) => onCustomValueChange(field.id, e.target.value)}\n              placeholder=\"Type your answer...\"\n              className={INPUT_CLASS}\n              disabled={isSubmitting}\n              autoFocus\n              required={field.validation?.required}\n            />\n          )}\n        </div>\n      );\n\n    case \"checkbox\":\n      return (\n        <label className=\"flex items-center gap-2 cursor-pointer w-fit select-none\">\n          <input\n            type=\"checkbox\"\n            checked={Boolean(value)}\n            onChange={(e) => onFieldChange(field.id, e.target.checked)}\n            disabled={isSubmitting}\n            className=\"w-4 h-4 cursor-pointer accent-primary form-checkbox rounded\"\n          />\n          <span className=\"text-sm text-foreground\">{field.label}</span>\n        </label>\n      );\n\n    case \"radio\":\n      return (\n        <div className=\"flex flex-col gap-1.5\">\n          {field.options?.map((opt) => (\n            <label\n              key={opt.value}\n              className=\"flex items-center gap-2 cursor-pointer text-sm text-foreground select-none w-fit\"\n            >\n              <input\n                type=\"radio\"\n                name={field.id}\n                value={opt.value}\n                checked={value === opt.value && !isCustomSelected}\n                onChange={(e) => onFieldChange(field.id, e.target.value)}\n                disabled={isSubmitting}\n                className=\"w-4 h-4 accent-primary form-radio\"\n              />\n              {opt.label}\n            </label>\n          ))}\n          {field.allowCustom && (\n            <>\n              <label className=\"flex items-center gap-2 cursor-pointer text-sm text-foreground select-none w-fit\">\n                <input\n                  type=\"radio\"\n                  name={field.id}\n                  value=\"__custom__\"\n                  checked={isCustomSelected}\n                  onChange={() => onCustomToggle(field.id, true)}\n                  disabled={isSubmitting}\n                  className=\"w-4 h-4 accent-primary form-radio\"\n                />\n                Other\n              </label>\n              {isCustomSelected && (\n                <input\n                  type=\"text\"\n                  value={customValue || \"\"}\n                  onChange={(e) =>\n                    onCustomValueChange(field.id, e.target.value)\n                  }\n                  placeholder=\"Type your answer...\"\n                  className={cn(INPUT_CLASS, \"ml-6 w-[calc(100%-1.5rem)]\")}\n                  disabled={isSubmitting}\n                  autoFocus\n                  required={field.validation?.required}\n                />\n              )}\n            </>\n          )}\n        </div>\n      );\n\n    default:\n      return null;\n  }\n}\n","\"use client\";\n\nimport type { QuestionPayload } from \"@onegenui/react\";\nimport { cn } from \"../../utils/cn\";\nimport {\n  INPUT_CLASS,\n  CONTAINER_CLASS,\n  QUESTION_TEXT_CLASS,\n  getQuickReplyButtonClass,\n} from \"./styles\";\n\ninterface QuickReplyFormProps {\n  question: QuestionPayload;\n  selectedOptions: string[];\n  isCustomMode: boolean;\n  customValue: string;\n  isSubmitting: boolean;\n  onQuickReply: (optionValue: string) => void;\n  onCustomToggle: (fieldId: string, show: boolean) => void;\n  onCustomValueChange: (fieldId: string, value: string) => void;\n  onSubmit: (answers: Record<string, unknown>) => void;\n}\n\nexport function QuickReplyForm({\n  question,\n  selectedOptions,\n  isCustomMode,\n  customValue,\n  isSubmitting,\n  onQuickReply,\n  onCustomToggle,\n  onCustomValueChange,\n  onSubmit,\n}: QuickReplyFormProps) {\n  return (\n    <div className={CONTAINER_CLASS}>\n      {question.text && (\n        <div className={QUESTION_TEXT_CLASS}>{question.text}</div>\n      )}\n      <div className=\"flex flex-wrap gap-2\">\n        {question.options?.map((opt) => {\n          const isSelected = question.multiple\n            ? selectedOptions.includes(opt.value)\n            : false;\n\n          return (\n            <button\n              key={opt.id}\n              type=\"button\"\n              onClick={() => onQuickReply(opt.value)}\n              disabled={isSubmitting}\n              className={getQuickReplyButtonClass(opt.variant, isSelected)}\n            >\n              {opt.label}\n            </button>\n          );\n        })}\n        {question.allowCustom && (\n          <button\n            type=\"button\"\n            onClick={() => onCustomToggle(\"quick-reply\", true)}\n            disabled={isSubmitting}\n            className={getQuickReplyButtonClass(\"default\", isCustomMode)}\n          >\n            Other...\n          </button>\n        )}\n      </div>\n\n      {isCustomMode && (\n        <div className=\"mt-3 flex gap-2 w-full\">\n          <input\n            type=\"text\"\n            value={customValue || \"\"}\n            onChange={(e) => onCustomValueChange(\"quick-reply\", e.target.value)}\n            placeholder=\"Type your answer...\"\n            className={cn(INPUT_CLASS, \"flex-1\")}\n            disabled={isSubmitting}\n            autoFocus\n            onKeyDown={(e) => {\n              if (e.key === \"Enter\" && customValue?.trim()) {\n                onSubmit({\n                  selected: customValue.trim(),\n                  isCustom: true,\n                });\n              }\n            }}\n          />\n          <button\n            type=\"button\"\n            onClick={() => {\n              if (customValue?.trim()) {\n                onSubmit({\n                  selected: customValue.trim(),\n                  isCustom: true,\n                });\n              }\n            }}\n            disabled={isSubmitting || !customValue?.trim()}\n            className={cn(\n              \"px-5 py-2.5 rounded-lg border-none bg-primary text-primary-foreground text-sm font-medium cursor-pointer transition-all hover:bg-primary/90\",\n              \"disabled:opacity-50 disabled:cursor-not-allowed\",\n            )}\n          >\n            Send\n          </button>\n        </div>\n      )}\n\n      {question.multiple && selectedOptions.length > 0 && (\n        <div className=\"mt-3 flex justify-end\">\n          <button\n            type=\"button\"\n            onClick={() => onSubmit({ selected: selectedOptions })}\n            disabled={isSubmitting}\n            className={cn(\n              \"px-5 py-2.5 rounded-lg border-none bg-primary text-primary-foreground text-sm font-medium cursor-pointer transition-all hover:bg-primary/90\",\n              isSubmitting && \"opacity-60 cursor-wait\",\n            )}\n          >\n            Confirm ({selectedOptions.length})\n          </button>\n        </div>\n      )}\n    </div>\n  );\n}\n","\"use client\";\n\nimport { memo, type CSSProperties } from \"react\";\nimport { useRenderText } from \"@onegenui/react\";\n\ninterface MarkdownMessageProps {\n  content: string;\n  style?: CSSProperties;\n}\n\n/**\n * Core markdown rendering via MarkdownProvider (no local markdown config).\n */\nexport const MarkdownMessage = memo(function MarkdownMessage({\n  content,\n  style,\n}: MarkdownMessageProps) {\n  const renderText = useRenderText();\n  return <div style={style}>{renderText(content)}</div>;\n});\n","\"use client\";\n\nimport { memo } from \"react\";\nimport type { ToolProgress } from \"@onegenui/react\";\nimport { cn } from \"../utils/cn\";\n\nexport interface ToolProgressIndicatorProps {\n  toolProgress: ToolProgress[];\n  className?: string;\n}\n\nconst toolIcons: Record<string, string> = {\n  \"web-search\": \"search\",\n  \"web-scrape\": \"file-text\",\n  \"search-flight\": \"plane\",\n  \"search-hotel\": \"building\",\n  \"deep-research\": \"microscope\",\n  calendar: \"calendar\",\n  gmail: \"mail\",\n  default: \"zap\",\n};\n\nconst toolLabels: Record<string, string> = {\n  \"web-search\": \"Web Search\",\n  \"web-scrape\": \"Reading Page\",\n  \"search-flight\": \"Flight Search\",\n  \"search-hotel\": \"Hotel Search\",\n  \"deep-research\": \"Deep Research\",\n  calendar: \"Calendar\",\n  gmail: \"Email\",\n};\n\n/**\n * ToolProgressIndicator Component\n *\n * Shows real-time progress of tool executions (web search, flights, etc.)\n */\nexport const ToolProgressIndicator = memo(function ToolProgressIndicator({\n  toolProgress,\n  className,\n}: ToolProgressIndicatorProps) {\n  if (!toolProgress || toolProgress.length === 0) {\n    return null;\n  }\n\n  // Get unique tools by toolCallId, keeping only the latest status\n  const latestByCallId = new Map<string, ToolProgress>();\n  for (const progress of toolProgress) {\n    latestByCallId.set(progress.toolCallId, progress);\n  }\n\n  // Filter to show only active (non-complete) tools, or the most recent complete\n  const activeTools = Array.from(latestByCallId.values()).filter(\n    (p) => p.status !== \"complete\" && p.status !== \"error\",\n  );\n\n  // If no active tools, show nothing (completed tools don't need indicator)\n  if (activeTools.length === 0) {\n    return null;\n  }\n\n  return (\n    <div className={cn(\"flex flex-col gap-2 px-4 py-3\", className)}>\n      {activeTools.map((progress) => (\n        <ToolProgressItem key={progress.toolCallId} progress={progress} />\n      ))}\n    </div>\n  );\n});\n\nconst ToolProgressItem = memo(function ToolProgressItem({\n  progress,\n}: {\n  progress: ToolProgress;\n}) {\n  const label = toolLabels[progress.toolName] || progress.toolName;\n  const isStarting = progress.status === \"starting\";\n  const isProgress = progress.status === \"progress\";\n  const isDeepResearch = progress.toolName === \"deep-research\";\n  const progressPercent = progress.progress ?? 0;\n\n  return (\n    <div\n      className={cn(\n        \"flex items-center gap-3 px-4 py-2.5 rounded-xl\",\n        \"bg-white/5 border border-white/10 backdrop-blur-sm\",\n        \"animate-in fade-in-0 slide-in-from-bottom-2 duration-300\",\n      )}\n    >\n      {/* Animated icon */}\n      <div className=\"relative\">\n        <div\n          className={cn(\n            \"w-8 h-8 rounded-lg flex items-center justify-center\",\n            \"bg-primary/20 text-primary\",\n          )}\n        >\n          <ToolIcon toolName={progress.toolName} />\n        </div>\n        {(isStarting || isProgress) && (\n          <span className=\"absolute -top-0.5 -right-0.5 w-2.5 h-2.5 rounded-full bg-primary animate-pulse\" />\n        )}\n      </div>\n\n      {/* Content */}\n      <div className=\"flex-1 min-w-0\">\n        <div className=\"flex items-center gap-2\">\n          <span className=\"text-sm font-medium text-foreground\">{label}</span>\n          {(isStarting || isProgress) && (\n            <span className=\"flex gap-0.5\">\n              {[0, 1, 2].map((i) => (\n                <span\n                  key={i}\n                  className=\"w-1 h-1 rounded-full bg-primary/60 animate-bounce\"\n                  style={{\n                    animationDelay: `${i * 0.15}s`,\n                    animationDuration: \"1s\",\n                  }}\n                />\n              ))}\n            </span>\n          )}\n        </div>\n        {progress.message && (\n          <p className=\"text-xs text-muted-foreground truncate mt-0.5\">\n            {progress.message}\n          </p>\n        )}\n        {/* Progress bar for deep research */}\n        {isDeepResearch && isProgress && progressPercent > 0 && (\n          <div className=\"mt-2 h-1.5 w-full bg-white/10 rounded-full overflow-hidden\">\n            <div\n              className=\"h-full bg-primary rounded-full transition-all duration-300\"\n              style={{ width: `${progressPercent}%` }}\n            />\n          </div>\n        )}\n      </div>\n    </div>\n  );\n});\n\nconst ToolIcon = memo(function ToolIcon({ toolName }: { toolName: string }) {\n  // Simple SVG icons for common tools\n  switch (toolName) {\n    case \"web-search\":\n      return (\n        <svg\n          width=\"16\"\n          height=\"16\"\n          viewBox=\"0 0 24 24\"\n          fill=\"none\"\n          stroke=\"currentColor\"\n          strokeWidth=\"2\"\n          strokeLinecap=\"round\"\n          strokeLinejoin=\"round\"\n        >\n          <circle cx=\"11\" cy=\"11\" r=\"8\" />\n          <path d=\"m21 21-4.3-4.3\" />\n        </svg>\n      );\n    case \"web-scrape\":\n      return (\n        <svg\n          width=\"16\"\n          height=\"16\"\n          viewBox=\"0 0 24 24\"\n          fill=\"none\"\n          stroke=\"currentColor\"\n          strokeWidth=\"2\"\n          strokeLinecap=\"round\"\n          strokeLinejoin=\"round\"\n        >\n          <path d=\"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z\" />\n          <polyline points=\"14,2 14,8 20,8\" />\n          <line x1=\"16\" y1=\"13\" x2=\"8\" y2=\"13\" />\n          <line x1=\"16\" y1=\"17\" x2=\"8\" y2=\"17\" />\n        </svg>\n      );\n    case \"search-flight\":\n      return (\n        <svg\n          width=\"16\"\n          height=\"16\"\n          viewBox=\"0 0 24 24\"\n          fill=\"none\"\n          stroke=\"currentColor\"\n          strokeWidth=\"2\"\n          strokeLinecap=\"round\"\n          strokeLinejoin=\"round\"\n        >\n          <path d=\"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z\" />\n        </svg>\n      );\n    case \"search-hotel\":\n      return (\n        <svg\n          width=\"16\"\n          height=\"16\"\n          viewBox=\"0 0 24 24\"\n          fill=\"none\"\n          stroke=\"currentColor\"\n          strokeWidth=\"2\"\n          strokeLinecap=\"round\"\n          strokeLinejoin=\"round\"\n        >\n          <path d=\"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z\" />\n          <path d=\"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2\" />\n          <path d=\"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2\" />\n          <path d=\"M10 6h4\" />\n          <path d=\"M10 10h4\" />\n          <path d=\"M10 14h4\" />\n          <path d=\"M10 18h4\" />\n        </svg>\n      );\n    case \"deep-research\":\n      return (\n        <svg\n          width=\"16\"\n          height=\"16\"\n          viewBox=\"0 0 24 24\"\n          fill=\"none\"\n          stroke=\"currentColor\"\n          strokeWidth=\"2\"\n          strokeLinecap=\"round\"\n          strokeLinejoin=\"round\"\n        >\n          <circle cx=\"12\" cy=\"12\" r=\"1\" />\n          <path d=\"M20.2 20.2c2.04-2.03.02-7.36-4.5-11.9-4.54-4.52-9.87-6.54-11.9-4.5-2.04 2.03-.02 7.36 4.5 11.9 4.54 4.52 9.87 6.54 11.9 4.5Z\" />\n          <path d=\"M15.7 15.7c4.52-4.54 6.54-9.87 4.5-11.9-2.03-2.04-7.36-.02-11.9 4.5-4.52 4.54-6.54 9.87-4.5 11.9 2.03 2.04 7.36.02 11.9-4.5Z\" />\n        </svg>\n      );\n    default:\n      return (\n        <svg\n          width=\"16\"\n          height=\"16\"\n          viewBox=\"0 0 24 24\"\n          fill=\"none\"\n          stroke=\"currentColor\"\n          strokeWidth=\"2\"\n          strokeLinecap=\"round\"\n          strokeLinejoin=\"round\"\n        >\n          <polygon points=\"13,2 3,14 12,14 11,22 21,10 12,10 13,2\" />\n        </svg>\n      );\n  }\n});\n","\"use client\";\n\nimport { useMemo, type CSSProperties } from \"react\";\nimport type { ConversationTurn, QuestionPayload } from \"@onegenui/react\";\nimport { QuestionForm } from \"./QuestionForm\";\nimport { SuggestionChips } from \"./SuggestionChips\";\n\n// ─────────────────────────────────────────────────────────────────────────────\n// Types\n// ─────────────────────────────────────────────────────────────────────────────\n\nexport interface ConversationInteractiveElementsProps {\n  /** Full conversation history */\n  conversation: ConversationTurn[];\n  /** Whether the AI is currently streaming */\n  isStreaming?: boolean;\n  /** Callback when a question is answered */\n  onAnswerQuestion?: (\n    turnId: string,\n    questionId: string,\n    answers: Record<string, unknown>,\n  ) => void;\n  /** Callback when a suggestion chip is clicked */\n  onSuggestionClick?: (prompt: string) => void;\n  /** Custom container style */\n  style?: CSSProperties;\n  /** Custom class name */\n  className?: string;\n  /** Whether to show suggestions (default: true) */\n  showSuggestions?: boolean;\n  /** Whether to show questions (default: true) */\n  showQuestions?: boolean;\n}\n\n// ─────────────────────────────────────────────────────────────────────────────\n// Styles\n// ─────────────────────────────────────────────────────────────────────────────\n\nconst CONTAINER_STYLE: CSSProperties = {\n  display: \"flex\",\n  flexDirection: \"column\",\n  gap: 12,\n};\n\n// ─────────────────────────────────────────────────────────────────────────────\n// Component\n// ─────────────────────────────────────────────────────────────────────────────\n\n/**\n * ConversationInteractiveElements\n *\n * Extracts and renders all interactive elements (unanswered questions and suggestions)\n * from a conversation. This component can be used independently of the chat panel\n * to show interactive elements in any context (e.g., dashboard when canvas is off).\n *\n * Features:\n * - Shows all unanswered questions from the conversation\n * - Shows suggestions only from the last turn\n * - Handles question submission and suggestion clicks\n * - Automatically hides when there are no interactive elements\n */\nexport function ConversationInteractiveElements({\n  conversation,\n  isStreaming = false,\n  onAnswerQuestion,\n  onSuggestionClick,\n  style,\n  className,\n  showSuggestions = true,\n  showQuestions = true,\n}: ConversationInteractiveElementsProps) {\n  // Extract unanswered questions from all turns\n  const unansweredQuestions = useMemo(() => {\n    if (!showQuestions) return [];\n\n    const questions: Array<{\n      turnId: string;\n      question: QuestionPayload;\n    }> = [];\n\n    for (const turn of conversation) {\n      if (turn.questions && turn.questions.length > 0) {\n        for (const question of turn.questions) {\n          const isAnswered =\n            turn.questionAnswers && question.id in turn.questionAnswers;\n          if (!isAnswered) {\n            questions.push({ turnId: turn.id, question });\n          }\n        }\n      }\n    }\n\n    return questions;\n  }, [conversation, showQuestions]);\n\n  // Get suggestions from the last turn only\n  const suggestions = useMemo(() => {\n    if (!showSuggestions) return [];\n    const lastTurn = conversation[conversation.length - 1];\n    return lastTurn?.suggestions || [];\n  }, [conversation, showSuggestions]);\n\n  // Don't render if there's nothing to show\n  if (unansweredQuestions.length === 0 && suggestions.length === 0) {\n    return null;\n  }\n\n  return (\n    <div style={{ ...CONTAINER_STYLE, ...style }} className={className}>\n      {/* Unanswered Questions */}\n      {unansweredQuestions.map(({ turnId, question }, index) => (\n        <QuestionForm\n          key={question.id || `q-${index}`}\n          question={question}\n          onSubmit={(answers) =>\n            onAnswerQuestion?.(turnId, question.id, answers)\n          }\n          onSkip={\n            !question.required\n              ? () => onAnswerQuestion?.(turnId, question.id, {})\n              : undefined\n          }\n          isSubmitting={isStreaming}\n        />\n      ))}\n\n      {/* Suggestions (only if not streaming) */}\n      {!isStreaming && suggestions.length > 0 && (\n        <SuggestionChips\n          suggestions={suggestions}\n          onClick={(chip) => onSuggestionClick?.(chip.prompt)}\n          disabled={isStreaming}\n        />\n      )}\n    </div>\n  );\n}\n","\"use client\";\n\nimport { memo } from \"react\";\nimport { icons } from \"./icons\";\nimport { StepItem } from \"./step-item\";\nimport {\n  styles,\n  keyframes,\n  countAllSteps,\n  type PlanningStatusProps,\n} from \"./styles\";\n\nexport const PlanningStatus = memo<PlanningStatusProps>(\n  function PlanningStatus({\n    plan,\n    activeStepId,\n    activeSubtaskId,\n    completedSteps,\n    completedSubtasks = [],\n    parallelLevel,\n  }: PlanningStatusProps) {\n    if (!plan) return null;\n\n    const completedCount = completedSteps.length + completedSubtasks.length;\n    const totalSteps = countAllSteps(plan.steps);\n    const progress = totalSteps > 0 ? (completedCount / totalSteps) * 100 : 0;\n\n    return (\n      <div style={styles.container}>\n        <style>{keyframes}</style>\n\n        {/* Header with goal */}\n        <div style={styles.header}>\n          <div style={styles.headerLeft}>\n            <div style={styles.iconWrapper}>{icons.plan}</div>\n            <div style={styles.headerContent}>\n              <span style={styles.label}>\n                Execution Plan\n                {parallelLevel !== null && parallelLevel !== undefined && (\n                  <span style={styles.parallelBadge}>\n                    ⚡ Parallel L{parallelLevel}\n                  </span>\n                )}\n              </span>\n              <span style={styles.goal}>{plan.goal}</span>\n            </div>\n          </div>\n          <div style={styles.progressBadge}>\n            {completedCount}/{totalSteps}\n          </div>\n        </div>\n\n        {/* Progress bar */}\n        <div style={styles.progressBar}>\n          <div style={{ ...styles.progressFill, width: `${progress}%` }} />\n        </div>\n\n        {/* Steps */}\n        <div style={styles.steps}>\n          {plan.steps.map((step, index) => {\n            const isCompleted = completedSteps.includes(step.id);\n            const isActive = activeStepId === step.id;\n\n            return (\n              <div key={step.id}>\n                <StepItem\n                  step={step}\n                  index={index}\n                  isCompleted={isCompleted}\n                  isActive={isActive}\n                  completedSubtasks={completedSubtasks}\n                  activeSubtaskId={activeSubtaskId}\n                />\n                {/* Render subtasks if present */}\n                {step.subtasks && step.subtasks.length > 0 && (\n                  <div style={styles.subtasksContainer}>\n                    {step.subtasks.map((subtask, subIndex) => (\n                      <StepItem\n                        key={subtask.id}\n                        step={subtask}\n                        index={subIndex}\n                        isCompleted={completedSubtasks.includes(subtask.id)}\n                        isActive={activeSubtaskId === subtask.id}\n                        isSubtask\n                        completedSubtasks={completedSubtasks}\n                        activeSubtaskId={activeSubtaskId}\n                      />\n                    ))}\n                  </div>\n                )}\n              </div>\n            );\n          })}\n        </div>\n      </div>\n    );\n  },\n);\n","// =============================================================================\n// SVG Icons for Planning Status\n// =============================================================================\n\nexport const icons = {\n  plan: (\n    <svg\n      width=\"16\"\n      height=\"16\"\n      viewBox=\"0 0 24 24\"\n      fill=\"none\"\n      stroke=\"currentColor\"\n      strokeWidth=\"2\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n    >\n      <path d=\"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z\" />\n      <polyline points=\"14,2 14,8 20,8\" />\n      <line x1=\"16\" y1=\"13\" x2=\"8\" y2=\"13\" />\n      <line x1=\"16\" y1=\"17\" x2=\"8\" y2=\"17\" />\n      <line x1=\"10\" y1=\"9\" x2=\"8\" y2=\"9\" />\n    </svg>\n  ),\n  check: (\n    <svg\n      width=\"14\"\n      height=\"14\"\n      viewBox=\"0 0 24 24\"\n      fill=\"none\"\n      stroke=\"currentColor\"\n      strokeWidth=\"2.5\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n    >\n      <polyline points=\"20,6 9,17 4,12\" />\n    </svg>\n  ),\n  loading: (\n    <svg\n      width=\"14\"\n      height=\"14\"\n      viewBox=\"0 0 24 24\"\n      fill=\"none\"\n      stroke=\"currentColor\"\n      strokeWidth=\"2\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n      style={{ animation: \"spin 1s linear infinite\" }}\n    >\n      <path d=\"M21 12a9 9 0 1 1-6.219-8.56\" />\n    </svg>\n  ),\n  pending: (\n    <svg\n      width=\"14\"\n      height=\"14\"\n      viewBox=\"0 0 24 24\"\n      fill=\"none\"\n      stroke=\"currentColor\"\n      strokeWidth=\"2\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n    >\n      <circle cx=\"12\" cy=\"12\" r=\"10\" opacity=\"0.3\" />\n    </svg>\n  ),\n  research: (\n    <svg\n      width=\"12\"\n      height=\"12\"\n      viewBox=\"0 0 24 24\"\n      fill=\"none\"\n      stroke=\"currentColor\"\n      strokeWidth=\"2\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n    >\n      <circle cx=\"11\" cy=\"11\" r=\"8\" />\n      <path d=\"m21 21-4.3-4.3\" />\n    </svg>\n  ),\n  coding: (\n    <svg\n      width=\"12\"\n      height=\"12\"\n      viewBox=\"0 0 24 24\"\n      fill=\"none\"\n      stroke=\"currentColor\"\n      strokeWidth=\"2\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n    >\n      <polyline points=\"16,18 22,12 16,6\" />\n      <polyline points=\"8,6 2,12 8,18\" />\n    </svg>\n  ),\n  review: (\n    <svg\n      width=\"12\"\n      height=\"12\"\n      viewBox=\"0 0 24 24\"\n      fill=\"none\"\n      stroke=\"currentColor\"\n      strokeWidth=\"2\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n    >\n      <path d=\"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z\" />\n      <circle cx=\"12\" cy=\"12\" r=\"3\" />\n    </svg>\n  ),\n  parallel: (\n    <svg\n      width=\"12\"\n      height=\"12\"\n      viewBox=\"0 0 24 24\"\n      fill=\"none\"\n      stroke=\"currentColor\"\n      strokeWidth=\"2\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n    >\n      <path d=\"M8 6h13\" />\n      <path d=\"M8 12h13\" />\n      <path d=\"M8 18h13\" />\n      <path d=\"M3 6h.01\" />\n      <path d=\"M3 12h.01\" />\n      <path d=\"M3 18h.01\" />\n    </svg>\n  ),\n};\n\nexport function getAgentIcon(agent: string) {\n  switch (agent.toLowerCase()) {\n    case \"research\":\n      return icons.research;\n    case \"coding\":\n      return icons.coding;\n    case \"review\":\n      return icons.review;\n    default:\n      return icons.pending;\n  }\n}\n","import type React from \"react\";\n\n// =============================================================================\n// Types\n// =============================================================================\n\nexport interface PlanStep {\n  id: number;\n  task: string;\n  agent: string;\n  parallel?: boolean;\n  subtasks?: PlanStep[];\n}\n\nexport interface ExecutionPlan {\n  goal: string;\n  steps: PlanStep[];\n}\n\nexport interface PlanningStatusProps {\n  plan: ExecutionPlan | null;\n  activeStepId?: number | null;\n  activeSubtaskId?: number | null;\n  completedSteps: number[];\n  completedSubtasks?: number[];\n  parallelLevel?: number | null;\n}\n\n// =============================================================================\n// Utility Functions\n// =============================================================================\n\nexport function countAllSteps(steps: PlanStep[]): number {\n  return steps.reduce(\n    (sum, s) => sum + 1 + (s.subtasks ? countAllSteps(s.subtasks) : 0),\n    0,\n  );\n}\n\n// =============================================================================\n// Keyframes\n// =============================================================================\n\nexport const keyframes = `\n  @keyframes spin {\n    from { transform: rotate(0deg); }\n    to { transform: rotate(360deg); }\n  }\n  @keyframes pulse {\n    0%, 100% { opacity: 1; }\n    50% { opacity: 0.5; }\n  }\n`;\n\n// =============================================================================\n// Styles\n// =============================================================================\n\nexport const styles: Record<string, React.CSSProperties> = {\n  container: {\n    background:\n      \"linear-gradient(135deg, rgba(15, 23, 42, 0.95) 0%, rgba(30, 41, 59, 0.9) 100%)\",\n    backdropFilter: \"blur(12px)\",\n    borderRadius: 16,\n    border: \"1px solid rgba(148, 163, 184, 0.15)\",\n    padding: 16,\n    marginBottom: 16,\n    boxShadow:\n      \"0 4px 24px rgba(0, 0, 0, 0.3), inset 0 1px 0 rgba(255, 255, 255, 0.05)\",\n  },\n  header: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"space-between\",\n    marginBottom: 12,\n  },\n  headerLeft: {\n    display: \"flex\",\n    alignItems: \"center\",\n    gap: 12,\n  },\n  iconWrapper: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    width: 36,\n    height: 36,\n    borderRadius: 10,\n    background: \"linear-gradient(135deg, #3b82f6 0%, #6366f1 100%)\",\n    color: \"#fff\",\n    flexShrink: 0,\n  },\n  headerContent: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    gap: 2,\n  },\n  label: {\n    fontSize: 11,\n    fontWeight: 500,\n    textTransform: \"uppercase\" as const,\n    letterSpacing: \"0.5px\",\n    color: \"rgba(148, 163, 184, 0.8)\",\n  },\n  goal: {\n    fontSize: 14,\n    fontWeight: 600,\n    color: \"#f1f5f9\",\n    lineHeight: 1.3,\n  },\n  progressBadge: {\n    fontSize: 12,\n    fontWeight: 600,\n    padding: \"4px 10px\",\n    borderRadius: 20,\n    background: \"rgba(59, 130, 246, 0.2)\",\n    color: \"#60a5fa\",\n    border: \"1px solid rgba(59, 130, 246, 0.3)\",\n  },\n  progressBar: {\n    height: 3,\n    borderRadius: 2,\n    background: \"rgba(148, 163, 184, 0.1)\",\n    marginBottom: 14,\n    overflow: \"hidden\",\n  },\n  progressFill: {\n    height: \"100%\",\n    borderRadius: 2,\n    background: \"linear-gradient(90deg, #3b82f6 0%, #8b5cf6 100%)\",\n    transition: \"width 0.4s ease\",\n  },\n  steps: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    gap: 8,\n  },\n  step: {\n    display: \"flex\",\n    alignItems: \"center\",\n    gap: 10,\n    padding: \"10px 12px\",\n    borderRadius: 10,\n    background: \"rgba(30, 41, 59, 0.5)\",\n    borderWidth: 1,\n    borderStyle: \"solid\",\n    borderColor: \"transparent\",\n    transition: \"all 0.25s ease\",\n  },\n  stepActive: {\n    background: \"rgba(59, 130, 246, 0.12)\",\n    borderColor: \"rgba(59, 130, 246, 0.4)\",\n    boxShadow: \"0 0 20px rgba(59, 130, 246, 0.15)\",\n  },\n  stepCompleted: {\n    opacity: 0.6,\n  },\n  stepNumber: {\n    fontSize: 10,\n    fontWeight: 700,\n    width: 20,\n    height: 20,\n    borderRadius: 6,\n    background: \"rgba(148, 163, 184, 0.15)\",\n    color: \"rgba(148, 163, 184, 0.7)\",\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    flexShrink: 0,\n  },\n  stepStatus: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    width: 24,\n    height: 24,\n    borderRadius: 12,\n    background: \"rgba(148, 163, 184, 0.1)\",\n    color: \"rgba(148, 163, 184, 0.5)\",\n    flexShrink: 0,\n  },\n  stepStatusActive: {\n    background: \"rgba(59, 130, 246, 0.2)\",\n    color: \"#60a5fa\",\n  },\n  stepStatusCompleted: {\n    background: \"rgba(34, 197, 94, 0.2)\",\n    color: \"#4ade80\",\n  },\n  stepContent: {\n    flex: 1,\n    minWidth: 0,\n  },\n  stepTask: {\n    fontSize: 13,\n    fontWeight: 500,\n    color: \"#e2e8f0\",\n    display: \"block\",\n    overflow: \"hidden\",\n    textOverflow: \"ellipsis\",\n    whiteSpace: \"nowrap\" as const,\n  },\n  agentBadge: {\n    display: \"flex\",\n    alignItems: \"center\",\n    gap: 5,\n    fontSize: 10,\n    fontWeight: 600,\n    padding: \"4px 8px\",\n    borderRadius: 6,\n    background: \"rgba(148, 163, 184, 0.1)\",\n    color: \"rgba(148, 163, 184, 0.7)\",\n    textTransform: \"uppercase\" as const,\n    letterSpacing: \"0.3px\",\n    flexShrink: 0,\n  },\n  agentBadgeActive: {\n    background: \"rgba(59, 130, 246, 0.15)\",\n    color: \"#60a5fa\",\n  },\n  subtask: {\n    marginLeft: 32,\n    padding: \"6px 10px\",\n    background: \"rgba(30, 41, 59, 0.3)\",\n    borderRadius: 8,\n  },\n  subtasksContainer: {\n    marginTop: 4,\n    marginLeft: 12,\n    paddingLeft: 12,\n    borderLeftWidth: 2,\n    borderLeftStyle: \"solid\" as const,\n    borderLeftColor: \"rgba(148, 163, 184, 0.1)\",\n    display: \"flex\",\n    flexDirection: \"column\" as const,\n    gap: 4,\n  },\n  parallelBadge: {\n    marginLeft: 8,\n    padding: \"2px 6px\",\n    borderRadius: 4,\n    background: \"rgba(139, 92, 246, 0.2)\",\n    color: \"#a78bfa\",\n    fontSize: 9,\n    fontWeight: 600,\n  },\n};\n","\"use client\";\n\nimport type { PlanStep } from \"./styles\";\nimport { icons, getAgentIcon } from \"./icons\";\nimport { styles } from \"./styles\";\n\nexport const StepItem = ({\n  step,\n  index,\n  isCompleted,\n  isActive,\n  isSubtask = false,\n}: {\n  step: PlanStep;\n  index: number;\n  isCompleted: boolean;\n  isActive: boolean;\n  isSubtask?: boolean;\n  completedSubtasks?: number[];\n  activeSubtaskId?: number | null;\n}) => (\n  <div\n    style={{\n      ...styles.step,\n      ...(isActive ? styles.stepActive : {}),\n      ...(isCompleted ? styles.stepCompleted : {}),\n      ...(isSubtask ? styles.subtask : {}),\n    }}\n  >\n    <div style={styles.stepNumber}>{isSubtask ? \"•\" : index + 1}</div>\n    <div\n      style={{\n        ...styles.stepStatus,\n        ...(isActive ? styles.stepStatusActive : {}),\n        ...(isCompleted ? styles.stepStatusCompleted : {}),\n      }}\n    >\n      {isCompleted ? icons.check : isActive ? icons.loading : icons.pending}\n    </div>\n    <div style={styles.stepContent}>\n      <span style={styles.stepTask}>{step.task}</span>\n    </div>\n    <div\n      style={{\n        ...styles.agentBadge,\n        ...(isActive ? styles.agentBadgeActive : {}),\n      }}\n    >\n      {step.parallel && icons.parallel}\n      {getAgentIcon(step.agent)}\n      <span>{step.agent}</span>\n    </div>\n  </div>\n);\n","\"use client\";\n\nimport React, { memo, useMemo } from \"react\";\nimport {\n  useStore,\n  useActiveToolProgress,\n  selectPlanExecution,\n  type PlanStep,\n  type ToolProgressEvent,\n} from \"@onegenui/react\";\nimport { cn } from \"../../utils/cn\";\nimport type { UnifiedProgressIndicatorProps, ExecutionPlan } from \"./types\";\n\n/**\n * Unified progress indicator component\n * Reads directly from Zustand store and shows plan + tool progress\n */\nexport const UnifiedProgressIndicator = memo<UnifiedProgressIndicatorProps>(\n  function UnifiedProgressIndicator({ className }) {\n    // Read plan execution state from store\n    const planExecution = useStore(selectPlanExecution);\n    // Get active tool progress\n    const activeTools = useActiveToolProgress();\n\n    // Extract plan data\n    const plan = planExecution.plan;\n    const isOrchestrating = planExecution.isOrchestrating;\n    const parallelLevel = planExecution.parallelLevel;\n\n    // Compute progress metrics\n    const metrics = useMemo(() => {\n      if (!plan) return null;\n      return computePlanMetrics(plan.steps);\n    }, [plan]);\n\n    // Don't render if nothing to show\n    if (!isOrchestrating && activeTools.length === 0) {\n      return null;\n    }\n\n    return (\n      <div className={cn(\"unified-progress\", className)}>\n        <style>{KEYFRAMES}</style>\n\n        {/* Plan section - shown during orchestration */}\n        {isOrchestrating && plan && metrics && (\n          <PlanSection\n            plan={plan}\n            metrics={metrics}\n            parallelLevel={parallelLevel}\n          />\n        )}\n\n        {/* Tool section - shown when tools are active */}\n        {activeTools.length > 0 && (\n          <ToolSection tools={activeTools} hasPlan={Boolean(plan)} />\n        )}\n      </div>\n    );\n  },\n);\n\n// -----------------------------------------------------------------------------\n// Sub-components\n// -----------------------------------------------------------------------------\n\ninterface PlanMetrics {\n  total: number;\n  completed: number;\n  running: number;\n  progress: number;\n}\n\ninterface PlanSectionProps {\n  plan: ExecutionPlan;\n  metrics: PlanMetrics;\n  parallelLevel: number | null;\n}\n\nconst PlanSection = memo<PlanSectionProps>(function PlanSection({\n  plan,\n  metrics,\n  parallelLevel,\n}) {\n  return (\n    <div className=\"plan-section\">\n      {/* Header */}\n      <div className=\"plan-header\">\n        <div className=\"plan-header-left\">\n          <div className=\"plan-icon\">{ICONS.plan}</div>\n          <div className=\"plan-header-content\">\n            <span className=\"plan-label\">\n              Generating\n              {parallelLevel !== null && (\n                <span className=\"parallel-badge\">\n                  Parallel L{parallelLevel}\n                </span>\n              )}\n            </span>\n            <span className=\"plan-goal\">{plan.goal}</span>\n          </div>\n        </div>\n        <div className=\"progress-badge\">\n          {metrics.completed}/{metrics.total}\n        </div>\n      </div>\n\n      {/* Progress bar */}\n      <div className=\"progress-bar\">\n        <div\n          className=\"progress-fill\"\n          style={{ width: `${metrics.progress}%` }}\n        />\n      </div>\n\n      {/* Steps (collapsed view showing only active) */}\n      <StepsList steps={plan.steps} />\n    </div>\n  );\n});\n\ninterface StepsListProps {\n  steps: PlanStep[];\n}\n\nconst StepsList = memo<StepsListProps>(function StepsList({ steps }) {\n  return (\n    <div className=\"steps-list\">\n      {steps.map((step, index) => (\n        <StepItem key={step.id} step={step} index={index} />\n      ))}\n    </div>\n  );\n});\n\ninterface StepItemProps {\n  step: PlanStep;\n  index: number;\n}\n\nconst StepItem = memo<StepItemProps>(function StepItem({ step, index }) {\n  const isActive = step.status === \"running\";\n  const isCompleted = step.status === \"complete\";\n  const isPending = step.status === \"pending\";\n\n  return (\n    <div\n      className={cn(\n        \"step-item\",\n        isActive && \"step-active\",\n        isCompleted && \"step-completed\",\n        isPending && \"step-pending\",\n      )}\n    >\n      {/* Status icon */}\n      <div\n        className={cn(\n          \"step-status\",\n          isActive && \"status-active\",\n          isCompleted && \"status-completed\",\n        )}\n      >\n        {isActive && ICONS.spinner}\n        {isCompleted && ICONS.check}\n        {isPending && <span className=\"step-number\">{index + 1}</span>}\n      </div>\n\n      {/* Content */}\n      <div className=\"step-content\">\n        <span className=\"step-task\">{step.task}</span>\n      </div>\n\n      {/* Agent badge */}\n      <span className={cn(\"agent-badge\", isActive && \"badge-active\")}>\n        {step.agent}\n      </span>\n    </div>\n  );\n});\n\ninterface ToolSectionProps {\n  tools: ToolProgressEvent[];\n  hasPlan: boolean;\n}\n\nconst ToolSection = memo<ToolSectionProps>(function ToolSection({\n  tools,\n  hasPlan,\n}) {\n  return (\n    <div className={cn(\"tool-section\", hasPlan && \"tool-section-nested\")}>\n      {tools.map((tool) => (\n        <ToolItem key={tool.toolCallId} tool={tool} />\n      ))}\n    </div>\n  );\n});\n\ninterface ToolItemProps {\n  tool: ToolProgressEvent;\n}\n\nconst ToolItem = memo<ToolItemProps>(function ToolItem({ tool }) {\n  const isActive = tool.status !== \"complete\" && tool.status !== \"error\";\n\n  return (\n    <div className=\"tool-item\">\n      <div className=\"tool-icon\">{getToolIcon(tool.toolName)}</div>\n      <div className=\"tool-content\">\n        <span className=\"tool-name\">{formatToolName(tool.toolName)}</span>\n        {tool.message && <span className=\"tool-message\">{tool.message}</span>}\n      </div>\n      {isActive && (\n        <span className=\"tool-indicator\">\n          {[0, 1, 2].map((i) => (\n            <span\n              key={i}\n              className=\"dot\"\n              style={{ animationDelay: `${i * 0.15}s` }}\n            />\n          ))}\n        </span>\n      )}\n    </div>\n  );\n});\n\n// -----------------------------------------------------------------------------\n// Helpers\n// -----------------------------------------------------------------------------\n\ninterface StepLike {\n  status: string;\n  subtasks?: Array<{ status: string }>;\n}\n\nfunction computePlanMetrics(steps: StepLike[]): PlanMetrics {\n  let total = 0;\n  let completed = 0;\n  let running = 0;\n\n  function countStep(step: StepLike) {\n    total++;\n    if (step.status === \"complete\") completed++;\n    if (step.status === \"running\") running++;\n    if (step.subtasks) {\n      step.subtasks.forEach((st) => {\n        total++;\n        if (st.status === \"complete\") completed++;\n        if (st.status === \"running\") running++;\n      });\n    }\n  }\n\n  steps.forEach(countStep);\n\n  return {\n    total,\n    completed,\n    running,\n    progress: total > 0 ? (completed / total) * 100 : 0,\n  };\n}\n\nconst TOOL_LABELS: Record<string, string> = {\n  \"web-search\": \"Web Search\",\n  \"web-scrape\": \"Reading Page\",\n  \"search-flight\": \"Flight Search\",\n  \"search-hotel\": \"Hotel Search\",\n  calendar: \"Calendar\",\n  gmail: \"Email\",\n  \"document-index\": \"Indexing Document\",\n  \"document-index-cache\": \"Loading Cached Index\",\n  \"document-search\": \"Searching Sections\",\n  \"document-toc\": \"Detecting TOC\",\n  \"document-structure\": \"Extracting Structure\",\n};\n\nfunction formatToolName(name: string): string {\n  return TOOL_LABELS[name] || name.replace(/-/g, \" \");\n}\n\nfunction getToolIcon(toolName: string): React.ReactElement {\n  switch (toolName) {\n    case \"web-search\":\n      return ICONS.search;\n    case \"web-scrape\":\n      return ICONS.document;\n    case \"search-flight\":\n      return ICONS.plane;\n    case \"search-hotel\":\n      return ICONS.building;\n    case \"document-index\":\n    case \"document-index-cache\":\n    case \"document-toc\":\n    case \"document-structure\":\n      return ICONS.document;\n    case \"document-search\":\n      return ICONS.search;\n    default:\n      return ICONS.zap;\n  }\n}\n\n// -----------------------------------------------------------------------------\n// Icons\n// -----------------------------------------------------------------------------\n\nconst ICONS = {\n  plan: (\n    <svg\n      width=\"18\"\n      height=\"18\"\n      viewBox=\"0 0 24 24\"\n      fill=\"none\"\n      stroke=\"currentColor\"\n      strokeWidth=\"2\"\n    >\n      <path d=\"M22 12h-4l-3 9L9 3l-3 9H2\" />\n    </svg>\n  ),\n  spinner: (\n    <svg\n      width=\"14\"\n      height=\"14\"\n      viewBox=\"0 0 24 24\"\n      fill=\"none\"\n      stroke=\"currentColor\"\n      strokeWidth=\"2\"\n      className=\"spinner\"\n    >\n      <path d=\"M21 12a9 9 0 1 1-6.219-8.56\" />\n    </svg>\n  ),\n  check: (\n    <svg\n      width=\"14\"\n      height=\"14\"\n      viewBox=\"0 0 24 24\"\n      fill=\"none\"\n      stroke=\"currentColor\"\n      strokeWidth=\"2.5\"\n    >\n      <polyline points=\"20,6 9,17 4,12\" />\n    </svg>\n  ),\n  search: (\n    <svg\n      width=\"14\"\n      height=\"14\"\n      viewBox=\"0 0 24 24\"\n      fill=\"none\"\n      stroke=\"currentColor\"\n      strokeWidth=\"2\"\n    >\n      <circle cx=\"11\" cy=\"11\" r=\"8\" />\n      <path d=\"m21 21-4.3-4.3\" />\n    </svg>\n  ),\n  document: (\n    <svg\n      width=\"14\"\n      height=\"14\"\n      viewBox=\"0 0 24 24\"\n      fill=\"none\"\n      stroke=\"currentColor\"\n      strokeWidth=\"2\"\n    >\n      <path d=\"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z\" />\n      <polyline points=\"14,2 14,8 20,8\" />\n    </svg>\n  ),\n  plane: (\n    <svg\n      width=\"14\"\n      height=\"14\"\n      viewBox=\"0 0 24 24\"\n      fill=\"none\"\n      stroke=\"currentColor\"\n      strokeWidth=\"2\"\n    >\n      <path d=\"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z\" />\n    </svg>\n  ),\n  building: (\n    <svg\n      width=\"14\"\n      height=\"14\"\n      viewBox=\"0 0 24 24\"\n      fill=\"none\"\n      stroke=\"currentColor\"\n      strokeWidth=\"2\"\n    >\n      <path d=\"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z\" />\n      <path d=\"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2\" />\n      <path d=\"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2\" />\n    </svg>\n  ),\n  zap: (\n    <svg\n      width=\"14\"\n      height=\"14\"\n      viewBox=\"0 0 24 24\"\n      fill=\"none\"\n      stroke=\"currentColor\"\n      strokeWidth=\"2\"\n    >\n      <polygon points=\"13,2 3,14 12,14 11,22 21,10 12,10 13,2\" />\n    </svg>\n  ),\n};\n\n// -----------------------------------------------------------------------------\n// Styles (CSS-in-JS for portability)\n// -----------------------------------------------------------------------------\n\nconst KEYFRAMES = `\n  @keyframes unified-spin {\n    from { transform: rotate(0deg); }\n    to { transform: rotate(360deg); }\n  }\n  @keyframes unified-bounce {\n    0%, 100% { transform: translateY(0); }\n    50% { transform: translateY(-3px); }\n  }\n\n  .unified-progress {\n    display: flex;\n    flex-direction: column;\n    gap: 8px;\n  }\n\n  .plan-section {\n    background: linear-gradient(135deg, rgba(15, 23, 42, 0.95) 0%, rgba(30, 41, 59, 0.9) 100%);\n    backdrop-filter: blur(12px);\n    border-radius: 16px;\n    border: 1px solid rgba(148, 163, 184, 0.15);\n    padding: 16px;\n    box-shadow: 0 4px 24px rgba(0, 0, 0, 0.3), inset 0 1px 0 rgba(255, 255, 255, 0.05);\n  }\n\n  .plan-header {\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    margin-bottom: 12px;\n  }\n\n  .plan-header-left {\n    display: flex;\n    align-items: center;\n    gap: 12px;\n  }\n\n  .plan-icon {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    width: 36px;\n    height: 36px;\n    border-radius: 10px;\n    background: linear-gradient(135deg, #3b82f6 0%, #6366f1 100%);\n    color: #fff;\n    flex-shrink: 0;\n  }\n\n  .plan-header-content {\n    display: flex;\n    flex-direction: column;\n    gap: 2px;\n  }\n\n  .plan-label {\n    font-size: 11px;\n    font-weight: 500;\n    text-transform: uppercase;\n    letter-spacing: 0.5px;\n    color: rgba(148, 163, 184, 0.8);\n  }\n\n  .plan-goal {\n    font-size: 14px;\n    font-weight: 600;\n    color: #f1f5f9;\n    line-height: 1.3;\n  }\n\n  .parallel-badge {\n    margin-left: 8px;\n    padding: 2px 6px;\n    border-radius: 4px;\n    background: rgba(139, 92, 246, 0.2);\n    color: #a78bfa;\n    font-size: 9px;\n    font-weight: 600;\n  }\n\n  .progress-badge {\n    font-size: 12px;\n    font-weight: 600;\n    padding: 4px 10px;\n    border-radius: 20px;\n    background: rgba(59, 130, 246, 0.2);\n    color: #60a5fa;\n    border: 1px solid rgba(59, 130, 246, 0.3);\n  }\n\n  .progress-bar {\n    height: 3px;\n    border-radius: 2px;\n    background: rgba(148, 163, 184, 0.1);\n    margin-bottom: 14px;\n    overflow: hidden;\n  }\n\n  .progress-fill {\n    height: 100%;\n    border-radius: 2px;\n    background: linear-gradient(90deg, #3b82f6 0%, #8b5cf6 100%);\n    transition: width 0.4s ease;\n  }\n\n  .steps-list {\n    display: flex;\n    flex-direction: column;\n    gap: 6px;\n  }\n\n  .step-item {\n    display: flex;\n    align-items: center;\n    gap: 10px;\n    padding: 8px 10px;\n    border-radius: 8px;\n    background: rgba(30, 41, 59, 0.5);\n    border: 1px solid transparent;\n    transition: all 0.25s ease;\n  }\n\n  .step-active {\n    background: rgba(59, 130, 246, 0.12);\n    border-color: rgba(59, 130, 246, 0.4);\n    box-shadow: 0 0 20px rgba(59, 130, 246, 0.15);\n  }\n\n  .step-completed {\n    opacity: 0.6;\n  }\n\n  .step-pending {\n    opacity: 0.75;\n  }\n\n  .step-status {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    width: 22px;\n    height: 22px;\n    border-radius: 11px;\n    background: rgba(148, 163, 184, 0.1);\n    color: rgba(148, 163, 184, 0.5);\n    flex-shrink: 0;\n  }\n\n  .status-active {\n    background: rgba(59, 130, 246, 0.2);\n    color: #60a5fa;\n  }\n\n  .status-completed {\n    background: rgba(34, 197, 94, 0.2);\n    color: #4ade80;\n  }\n\n  .step-number {\n    font-size: 10px;\n    font-weight: 700;\n  }\n\n  .step-content {\n    flex: 1;\n    min-width: 0;\n  }\n\n  .step-task {\n    font-size: 12px;\n    font-weight: 500;\n    color: #e2e8f0;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n  }\n\n  .agent-badge {\n    display: flex;\n    align-items: center;\n    gap: 5px;\n    font-size: 9px;\n    font-weight: 600;\n    padding: 3px 6px;\n    border-radius: 5px;\n    background: rgba(148, 163, 184, 0.1);\n    color: rgba(148, 163, 184, 0.7);\n    text-transform: uppercase;\n    letter-spacing: 0.3px;\n    flex-shrink: 0;\n  }\n\n  .badge-active {\n    background: rgba(59, 130, 246, 0.15);\n    color: #60a5fa;\n  }\n\n  .spinner {\n    animation: unified-spin 1s linear infinite;\n  }\n\n  /* Tool section */\n  .tool-section {\n    display: flex;\n    flex-direction: column;\n    gap: 6px;\n  }\n\n  .tool-section-nested {\n    margin-top: 4px;\n    padding-left: 16px;\n    border-left: 2px solid rgba(59, 130, 246, 0.3);\n  }\n\n  .tool-item {\n    display: flex;\n    align-items: center;\n    gap: 10px;\n    padding: 8px 12px;\n    border-radius: 10px;\n    background: rgba(255, 255, 255, 0.05);\n    border: 1px solid rgba(255, 255, 255, 0.1);\n    backdrop-filter: blur(8px);\n  }\n\n  .tool-icon {\n    width: 28px;\n    height: 28px;\n    border-radius: 7px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    background: rgba(59, 130, 246, 0.2);\n    color: #60a5fa;\n    flex-shrink: 0;\n  }\n\n  .tool-content {\n    flex: 1;\n    min-width: 0;\n    display: flex;\n    flex-direction: column;\n  }\n\n  .tool-name {\n    font-size: 13px;\n    font-weight: 500;\n    color: #f1f5f9;\n  }\n\n  .tool-message {\n    font-size: 11px;\n    color: rgba(148, 163, 184, 0.8);\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n  }\n\n  .tool-indicator {\n    display: flex;\n    gap: 3px;\n  }\n\n  .tool-indicator .dot {\n    width: 4px;\n    height: 4px;\n    border-radius: 50%;\n    background: #60a5fa;\n    animation: unified-bounce 1s ease-in-out infinite;\n  }\n`;\n","\"use client\";\n\nimport React, {\n  useState,\n  useRef,\n  useCallback,\n  type KeyboardEvent,\n  type RefObject,\n} from \"react\";\nimport { SendHorizontal, Paperclip, Plus } from \"lucide-react\";\nimport { cn } from \"../../utils/cn\";\nimport { FileAttachmentBadge } from \"./FileAttachmentBadge\";\nimport { ActionMenu, type ActionMenuProps } from \"./ActionMenu\";\nimport { DeepResearchToggle } from \"../DeepResearch/DeepResearchToggle\";\nimport type { Attachment } from \"../../types/attachments\";\n\nexport interface ChatInputAreaProps {\n  input: string;\n  setInput: (value: string) => void;\n  onSend: () => void;\n  isStreaming?: boolean;\n  placeholder?: string;\n  onFocus?: () => void;\n  onBlur?: () => void;\n  isFocused?: boolean;\n  className?: string;\n  // Attachments\n  attachments: Attachment[];\n  onRemoveAttachment: (id: string) => void;\n  onAttachClick: () => void;\n  fileInputRef: RefObject<HTMLInputElement | null>;\n  handleFileSelect: (e: React.ChangeEvent<HTMLInputElement>) => void;\n  onFilesDrop?: (files: File[]) => void;\n  isDragActive?: boolean;\n  // Menu\n  menuProps?: Omit<ActionMenuProps, \"isOpen\" | \"onClose\">;\n  // Deep Research\n  showDeepResearch?: boolean;\n  // Custom slot for additional elements (e.g., user menu)\n  leftSlot?: React.ReactNode;\n}\n\nexport function ChatInputArea({\n  input,\n  setInput,\n  onSend,\n  isStreaming = false,\n  placeholder = \"Message AI...\",\n  onFocus,\n  onBlur,\n  isFocused = false,\n  className,\n  attachments,\n  onRemoveAttachment,\n  onAttachClick,\n  fileInputRef,\n  handleFileSelect,\n  onFilesDrop,\n  isDragActive = false,\n  menuProps,\n  showDeepResearch = true,\n  leftSlot,\n}: ChatInputAreaProps) {\n  const [isMenuOpen, setIsMenuOpen] = useState(false);\n  const inputRef = useRef<HTMLInputElement>(null);\n\n  const handleKeyDown = (e: KeyboardEvent<HTMLInputElement>) => {\n    if (e.key === \"Enter\" && !e.shiftKey) {\n      e.preventDefault();\n      onSend();\n    }\n  };\n\n  const canSubmit =\n    (input.trim().length > 0 || attachments.length > 0) && !isStreaming;\n\n  const handleDrop = useCallback(\n    (event: React.DragEvent<HTMLDivElement>) => {\n      event.preventDefault();\n      event.stopPropagation();\n      if (!onFilesDrop || isStreaming) return;\n\n      const files = Array.from(event.dataTransfer.files || []);\n      if (files.length > 0) {\n        onFilesDrop(files);\n      }\n    },\n    [onFilesDrop, isStreaming],\n  );\n\n  const handleDragOver = useCallback(\n    (event: React.DragEvent<HTMLDivElement>) => {\n      event.preventDefault();\n      event.stopPropagation();\n    },\n    [],\n  );\n\n  return (\n    <div\n      className={cn(\"relative w-full\", className)}\n      onDrop={handleDrop}\n      onDragOver={handleDragOver}\n    >\n      {/* Action Menu Component */}\n      {menuProps && (\n        <ActionMenu\n          {...menuProps}\n          isOpen={isMenuOpen}\n          onClose={() => setIsMenuOpen(false)}\n        />\n      )}\n\n      <div\n        className={cn(\n          \"flex flex-col p-2 sm:p-2.5 rounded-[18px] sm:rounded-[20px] bg-[#1e1e23]/60 backdrop-blur-xl border border-white/10 shadow-[0_8px_32px_rgba(0,0,0,0.2)] transition-all duration-200 z-[50] relative\",\n          isFocused\n            ? \"border-primary shadow-[0_0_0_2px_rgba(var(--primary-rgb),0.25),0_8px_32px_rgba(0,0,0,0.2)]\"\n            : \"hover:border-white/20\",\n          isDragActive && \"border-primary/80 bg-primary/5\",\n        )}\n      >\n        {isDragActive && (\n          <div className=\"absolute inset-0 rounded-[18px] sm:rounded-[20px] border border-primary/60 pointer-events-none flex items-center justify-center\">\n            <span className=\"text-xs uppercase tracking-widest text-primary font-semibold\">\n              Drop files to attach\n            </span>\n          </div>\n        )}\n        {/* Attachments Area */}\n        {attachments.length > 0 && (\n          <div className=\"flex gap-2 p-1 pb-2 w-full overflow-x-auto\">\n            {attachments.map((attachment) => (\n              <FileAttachmentBadge\n                key={attachment.id}\n                attachment={attachment}\n                onRemove={onRemoveAttachment}\n              />\n            ))}\n          </div>\n        )}\n\n        <div className=\"flex items-center gap-2 sm:gap-3 w-full\">\n          <div className=\"flex items-center gap-0.5 sm:gap-1 shrink-0\">\n            {/* Custom left slot (e.g., user menu) */}\n            {leftSlot}\n\n            {/* Action Menu Trigger */}\n            <button\n              type=\"button\"\n              onClick={() => setIsMenuOpen(!isMenuOpen)}\n              className={cn(\n                \"w-9 h-9 sm:w-10 sm:h-10 rounded-xl flex items-center justify-center cursor-pointer transition-colors duration-200 bg-transparent border-none text-muted-foreground hover:bg-white/10 hover:text-foreground\",\n                isMenuOpen && \"bg-white/10 text-foreground\",\n              )}\n              title=\"Actions\"\n            >\n              <Plus size={18} className=\"sm:w-5 sm:h-5\" />\n            </button>\n\n            <button\n              type=\"button\"\n              onClick={onAttachClick}\n              className=\"w-9 h-9 sm:w-10 sm:h-10 rounded-xl flex items-center justify-center cursor-pointer transition-all duration-200 text-muted-foreground bg-transparent border-none hover:bg-white/10 hover:text-foreground\"\n              title=\"Attach files\"\n            >\n              <Paperclip size={18} className=\"sm:w-5 sm:h-5\" />\n            </button>\n\n            {/* Deep Research Toggle */}\n            {showDeepResearch && <DeepResearchToggle compact />}\n          </div>\n\n          <input\n            type=\"file\"\n            ref={fileInputRef}\n            onChange={handleFileSelect}\n            className=\"hidden\"\n            multiple\n            accept=\".pdf,.doc,.docx,.xls,.xlsx,.csv,.ppt,.pptx,.png,.jpg,.jpeg,.gif,.webp\"\n          />\n\n          <input\n            ref={inputRef}\n            type=\"text\"\n            value={input}\n            onChange={(e) => setInput(e.target.value)}\n            onKeyDown={handleKeyDown}\n            onFocus={onFocus}\n            onBlur={onBlur}\n            placeholder={placeholder}\n            className=\"flex-1 bg-transparent border-none outline-none text-foreground text-[14px] sm:text-[15px] leading-relaxed py-1 min-w-[100px] sm:min-w-[150px]\"\n            disabled={isStreaming}\n            autoFocus\n          />\n\n          <button\n            onClick={onSend}\n            disabled={!canSubmit}\n            className={cn(\n              \"w-9 h-9 sm:w-10 sm:h-10 rounded-xl flex items-center justify-center shrink-0 border-none transition-all duration-200\",\n              canSubmit\n                ? \"bg-primary text-primary-foreground shadow-[0_4px_12px_rgba(var(--primary-rgb),0.3)] cursor-pointer hover:bg-primary/90\"\n                : \"bg-white/5 text-muted-foreground opacity-50 cursor-not-allowed\",\n            )}\n          >\n            <SendHorizontal size={16} className=\"sm:w-[18px] sm:h-[18px]\" />\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n","\"use client\";\n\nimport React from \"react\";\nimport {\n  FileText,\n  FileSpreadsheet,\n  File as FileIcon,\n  X,\n  Image as ImageIcon,\n  Presentation,\n  Library,\n} from \"lucide-react\";\nimport type { Attachment } from \"../../types/attachments\";\nimport { isLibraryAttachment, isFileAttachment } from \"../../types/attachments\";\n\nexport interface FileAttachmentBadgeProps {\n  attachment: Attachment;\n  onRemove: (id: string) => void;\n}\n\nconst getIconForType = (type: string) => {\n  switch (type) {\n    case \"document\":\n      return <FileText size={14} />;\n    case \"spreadsheet\":\n      return <FileSpreadsheet size={14} />;\n    case \"presentation\":\n      return <Presentation size={14} />;\n    case \"image\":\n      return <ImageIcon size={14} />;\n    case \"library-document\":\n      return <Library size={14} className=\"text-blue-400\" />;\n    default:\n      return <FileIcon size={14} />;\n  }\n};\n\nexport function FileAttachmentBadge({\n  attachment,\n  onRemove,\n}: FileAttachmentBadgeProps) {\n  const isLibrary = isLibraryAttachment(attachment);\n  const fileName = isLibrary ? attachment.fileName : attachment.file.name;\n  const preview = isFileAttachment(attachment) ? attachment.preview : undefined;\n\n  return (\n    <div\n      className={`inline-flex items-center gap-2 px-2 py-1 rounded-lg border max-w-[200px] text-[13px] text-foreground select-none transition-colors ${\n        isLibrary\n          ? \"bg-blue-500/10 border-blue-500/20 hover:bg-blue-500/15\"\n          : \"bg-white/10 border-white/10 hover:bg-white/15\"\n      }`}\n    >\n      {preview ? (\n        <img\n          src={preview}\n          alt={fileName}\n          className=\"w-5 h-5 object-cover rounded\"\n        />\n      ) : (\n        getIconForType(attachment.type)\n      )}\n\n      <span className=\"truncate flex-1\">{fileName}</span>\n\n      <button\n        type=\"button\"\n        onClick={(e) => {\n          e.stopPropagation();\n          onRemove(attachment.id);\n        }}\n        className=\"flex items-center justify-center w-4 h-4 rounded-full bg-white/10 text-muted-foreground hover:text-foreground hover:bg-white/20 ml-1 p-0 transition-colors border-none cursor-pointer\"\n        title=\"Remove attachment\"\n      >\n        <X size={10} />\n      </button>\n    </div>\n  );\n}\n","/**\n * Attachment Types\n */\n\nexport interface FileAttachment {\n  id: string;\n  file: File;\n  type: \"document\" | \"image\" | \"spreadsheet\" | \"presentation\" | \"other\";\n  preview?: string;\n}\n\n/** Server-cached document attachment (from library) */\nexport interface LibraryAttachment {\n  id: string;\n  documentId: string;\n  fileName: string;\n  mimeType: string;\n  pageCount?: number;\n  type: \"library-document\";\n}\n\nexport type Attachment = FileAttachment | LibraryAttachment;\n\nexport function isLibraryAttachment(a: Attachment): a is LibraryAttachment {\n  return a.type === \"library-document\";\n}\n\nexport function isFileAttachment(a: Attachment): a is FileAttachment {\n  return a.type !== \"library-document\";\n}\n","\"use client\";\n\nimport React, { useRef, useEffect } from \"react\";\nimport {\n  Settings,\n  PanelRightOpen,\n  PanelRightClose,\n  Eye,\n  EyeOff,\n  Trash2,\n  FileEdit,\n} from \"lucide-react\";\nimport { AnimatePresence, motion } from \"framer-motion\";\nimport { cn } from \"../../utils/cn\";\n\nexport interface ActionMenuProps {\n  isOpen: boolean;\n  onClose: () => void;\n  onOpenSettings?: () => void;\n  onToggleCopilotMode?: () => void;\n  onToggleHideMessages?: () => void;\n  onClear?: () => void;\n  canClear?: boolean;\n  messagesMode?: \"hidden\" | \"copilot\" | \"default\";\n  // Document Editor Canvas\n  isDocumentEditorEnabled?: boolean;\n  onToggleDocumentEditor?: () => void;\n}\n\nexport function ActionMenu({\n  isOpen,\n  onClose,\n  onOpenSettings,\n  onToggleCopilotMode,\n  onToggleHideMessages,\n  onClear,\n  canClear,\n  messagesMode = \"default\",\n  isDocumentEditorEnabled = false,\n  onToggleDocumentEditor,\n}: ActionMenuProps) {\n  const menuRef = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    const handleClickOutside = (event: MouseEvent) => {\n      if (menuRef.current && !menuRef.current.contains(event.target as Node)) {\n        onClose();\n      }\n    };\n\n    if (isOpen) {\n      document.addEventListener(\"mousedown\", handleClickOutside);\n    }\n\n    return () => {\n      document.removeEventListener(\"mousedown\", handleClickOutside);\n    };\n  }, [isOpen, onClose]);\n\n  return (\n    <AnimatePresence>\n      {isOpen && (\n        <motion.div\n          ref={menuRef}\n          initial={{ opacity: 0, scale: 0.95, y: 10 }}\n          animate={{ opacity: 1, scale: 1, y: 0 }}\n          exit={{ opacity: 0, scale: 0.95, y: 10 }}\n          transition={{ duration: 0.2, ease: \"easeOut\" }}\n          className=\"absolute left-0 bottom-full mb-3 min-w-[200px] overflow-hidden rounded-xl bg-[#1e1e23]/95 backdrop-blur-xl border border-white/10 shadow-2xl z-[150]\"\n        >\n          <div className=\"p-1.5 flex flex-col gap-1\">\n            {onOpenSettings && (\n              <button\n                onClick={() => {\n                  onOpenSettings();\n                  onClose();\n                }}\n                className=\"flex items-center gap-3 px-3 py-2.5 text-[14px] text-foreground hover:bg-white/5 rounded-lg transition-colors w-full text-left bg-transparent border-none cursor-pointer\"\n              >\n                <Settings size={16} />\n                Settings\n              </button>\n            )}\n\n            {onToggleDocumentEditor && (\n              <button\n                onClick={() => {\n                  onToggleDocumentEditor();\n                  onClose();\n                }}\n                className={cn(\n                  \"flex items-center gap-3 px-3 py-2.5 text-[14px] rounded-lg transition-colors w-full text-left bg-transparent border-none cursor-pointer\",\n                  isDocumentEditorEnabled\n                    ? \"text-primary bg-primary/10\"\n                    : \"text-foreground hover:bg-white/5\",\n                )}\n              >\n                <FileEdit size={16} />\n                {isDocumentEditorEnabled\n                  ? \"Close Document Editor\"\n                  : \"Open Document Editor\"}\n              </button>\n            )}\n\n            {onToggleCopilotMode && (\n              <button\n                onClick={() => {\n                  onToggleCopilotMode();\n                  onClose();\n                }}\n                className={cn(\n                  \"flex items-center gap-3 px-3 py-2.5 text-[14px] rounded-lg transition-colors w-full text-left bg-transparent border-none cursor-pointer\",\n                  messagesMode === \"copilot\"\n                    ? \"text-primary bg-primary/10\"\n                    : \"text-foreground hover:bg-white/5\",\n                )}\n              >\n                {messagesMode === \"copilot\" ? (\n                  <PanelRightClose size={16} />\n                ) : (\n                  <PanelRightOpen size={16} />\n                )}\n                {messagesMode === \"copilot\"\n                  ? \"Close Copilot Panel\"\n                  : \"Open Copilot Panel\"}\n              </button>\n            )}\n\n            {onToggleHideMessages && (\n              <button\n                onClick={() => {\n                  onToggleHideMessages();\n                  onClose();\n                }}\n                className={cn(\n                  \"flex items-center gap-3 px-3 py-2.5 text-[14px] rounded-lg transition-colors w-full text-left bg-transparent border-none cursor-pointer\",\n                  messagesMode === \"hidden\"\n                    ? \"text-muted-foreground\"\n                    : \"text-foreground hover:bg-white/5\",\n                )}\n              >\n                {messagesMode === \"hidden\" ? (\n                  <EyeOff size={16} />\n                ) : (\n                  <Eye size={16} />\n                )}\n                {messagesMode === \"hidden\" ? \"Show Messages\" : \"Hide Messages\"}\n              </button>\n            )}\n\n            {canClear && onClear && (\n              <>\n                <div className=\"h-px bg-white/5 my-1\" />\n                <button\n                  onClick={() => {\n                    onClear();\n                    onClose();\n                  }}\n                  disabled={!canClear}\n                  className=\"flex items-center gap-3 px-3 py-2.5 text-[14px] text-destructive hover:bg-destructive/10 rounded-lg transition-colors w-full text-left bg-transparent border-none cursor-pointer\"\n                >\n                  <Trash2 size={16} />\n                  Clear Chat\n                </button>\n              </>\n            )}\n          </div>\n        </motion.div>\n      )}\n    </AnimatePresence>\n  );\n}\n","import { useState, useCallback, useRef, type ChangeEvent } from \"react\";\nimport type {\n  FileAttachment,\n  LibraryAttachment,\n  Attachment,\n} from \"../types/attachments\";\n\nexport function useChatAttachments() {\n  const [attachments, setAttachments] = useState<Attachment[]>([]);\n  const fileInputRef = useRef<HTMLInputElement>(null);\n\n  const addFiles = useCallback((files: FileList | File[]) => {\n    if (!files || files.length === 0) return;\n\n    const newAttachments: FileAttachment[] = [];\n    Array.from(files).forEach((file) => {\n      const id = Math.random().toString(36).substring(7);\n      let type: FileAttachment[\"type\"] = \"other\";\n\n      if (file.type.startsWith(\"image/\")) type = \"image\";\n      else if (file.type === \"application/pdf\" || file.type.includes(\"word\"))\n        type = \"document\";\n      else if (file.type.includes(\"sheet\") || file.type.includes(\"csv\"))\n        type = \"spreadsheet\";\n      else if (file.type.includes(\"presentation\")) type = \"presentation\";\n\n      const attachment: FileAttachment = { id, file, type };\n\n      if (type === \"image\") {\n        const reader = new FileReader();\n        reader.onload = (e) => {\n          attachment.preview = e.target?.result as string;\n          setAttachments((prev) => [...prev]); // Trigger re-render update\n        };\n        reader.readAsDataURL(file);\n      }\n\n      newAttachments.push(attachment);\n    });\n\n    setAttachments((prev) => [...prev, ...newAttachments]);\n    if (fileInputRef.current) fileInputRef.current.value = \"\";\n  }, []);\n\n  const addLibraryDocument = useCallback(\n    (doc: {\n      id: string;\n      fileName: string;\n      mimeType: string;\n      pageCount?: number;\n    }) => {\n      const attachment: LibraryAttachment = {\n        id: Math.random().toString(36).substring(7),\n        documentId: doc.id,\n        fileName: doc.fileName,\n        mimeType: doc.mimeType,\n        pageCount: doc.pageCount,\n        type: \"library-document\",\n      };\n      setAttachments((prev) => [...prev, attachment]);\n    },\n    [],\n  );\n\n  const handleFileSelect = useCallback(\n    (e: ChangeEvent<HTMLInputElement>) => {\n      if (e.target.files && e.target.files.length > 0) {\n        addFiles(e.target.files);\n      }\n    },\n    [addFiles],\n  );\n\n  const removeAttachment = useCallback((id: string) => {\n    setAttachments((prev) => prev.filter((a) => a.id !== id));\n  }, []);\n\n  const triggerFileSelect = useCallback(() => {\n    fileInputRef.current?.click();\n  }, []);\n\n  const clearAttachments = useCallback(() => {\n    setAttachments([]);\n  }, []);\n\n  return {\n    attachments,\n    fileInputRef,\n    handleFileSelect,\n    addFiles,\n    addLibraryDocument,\n    removeAttachment,\n    triggerFileSelect,\n    clearAttachments,\n  };\n}\n","/**\n * Schema definitions for @onegenui/chat components\n *\n * These schemas define the structure and validation for chat-related data.\n */\n\nimport { z } from \"zod\";\n\n// ─────────────────────────────────────────────────────────────────────────────\n// Chat Message Schema\n// ─────────────────────────────────────────────────────────────────────────────\n\nexport const chatMessageSchema = z.object({\n  id: z.string(),\n  role: z.enum([\"user\", \"assistant\", \"system\"]),\n  content: z.string(),\n  timestamp: z.number().optional(),\n});\n\nexport type ChatMessageSchema = z.infer<typeof chatMessageSchema>;\n\n// ─────────────────────────────────────────────────────────────────────────────\n// Form Field Schema\n// ─────────────────────────────────────────────────────────────────────────────\n\nexport const formFieldOptionSchema = z.object({\n  value: z.string(),\n  label: z.string(),\n});\n\nexport const formFieldValidationSchema = z.object({\n  required: z.boolean().optional(),\n  min: z.number().optional(),\n  max: z.number().optional(),\n  pattern: z.string().optional(),\n  message: z.string().optional(),\n});\n\nexport const formFieldSchema = z.object({\n  id: z.string(),\n  label: z.string(),\n  type: z.enum([\n    \"text\",\n    \"textarea\",\n    \"number\",\n    \"email\",\n    \"date\",\n    \"time\",\n    \"datetime\",\n    \"select\",\n    \"radio\",\n    \"checkbox\",\n    \"slider\",\n  ]),\n  placeholder: z.string().optional(),\n  defaultValue: z.unknown().optional(),\n  options: z.array(formFieldOptionSchema).optional(),\n  validation: formFieldValidationSchema.optional(),\n  allowCustom: z.boolean().optional(),\n});\n\nexport type FormFieldSchema = z.infer<typeof formFieldSchema>;\n\n// ─────────────────────────────────────────────────────────────────────────────\n// Question Schema\n// ─────────────────────────────────────────────────────────────────────────────\n\nexport const quickReplyOptionSchema = z.object({\n  id: z.string(),\n  label: z.string(),\n  value: z.string().optional(),\n  icon: z.string().optional(),\n  primary: z.boolean().optional(),\n});\n\nexport const questionPayloadSchema = z.object({\n  id: z.string(),\n  text: z.string(),\n  type: z.enum([\"text\", \"form\", \"quick-reply\"]),\n  fields: z.array(formFieldSchema).optional(),\n  options: z.array(quickReplyOptionSchema).optional(),\n  multiple: z.boolean().optional(),\n  allowCustom: z.boolean().optional(),\n  required: z.boolean().optional(),\n});\n\nexport type QuestionPayloadSchema = z.infer<typeof questionPayloadSchema>;\n\n// ─────────────────────────────────────────────────────────────────────────────\n// Suggestion Chip Schema\n// ─────────────────────────────────────────────────────────────────────────────\n\nexport const suggestionChipSchema = z.object({\n  id: z.string(),\n  label: z.string(),\n  action: z.string().optional(),\n  icon: z.string().optional(),\n  primary: z.boolean().optional(),\n});\n\nexport type SuggestionChipSchema = z.infer<typeof suggestionChipSchema>;\n\n// ─────────────────────────────────────────────────────────────────────────────\n// Conversation Turn Schema\n// ─────────────────────────────────────────────────────────────────────────────\n\nexport const conversationTurnSchema = z.object({\n  id: z.string(),\n  userMessage: z.string().optional(),\n  assistantMessages: z.array(chatMessageSchema).optional(),\n  questions: z.array(questionPayloadSchema).optional(),\n  questionAnswers: z.record(z.unknown()).optional(),\n  suggestions: z.array(suggestionChipSchema).optional(),\n  isProactive: z.boolean().optional(),\n  timestamp: z.number().optional(),\n});\n\nexport type ConversationTurnSchema = z.infer<typeof conversationTurnSchema>;\n"],"mappings":"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","names":["import_react","ChatHeader","import_react","import_lucide_react","import_react","import_lucide_react","import_jsx_runtime","DeepResearchToggle","import_jsx_runtime","ChatInput","import_react","import_lucide_react","import_jsx_runtime","EmptyState","import_react","import_jsx_runtime","SuggestionChips","import_react","import_jsx_runtime","TypingIndicator","import_react","import_jsx_runtime","import_jsx_runtime","import_jsx_runtime","import_react","import_jsx_runtime","MarkdownMessage","import_react","import_jsx_runtime","ToolProgressIndicator","ToolProgressItem","ToolIcon","import_jsx_runtime","ChatPanel","import_react","import_jsx_runtime","import_react","import_jsx_runtime","keyframes","import_jsx_runtime","import_jsx_runtime","PlanningStatus","keyframes","import_react","import_jsx_runtime","UnifiedProgressIndicator","PlanSection","StepsList","StepItem","ToolSection","ToolItem","import_react","import_lucide_react","import_lucide_react","import_jsx_runtime","ImageIcon","FileIcon","import_react","import_lucide_react","import_framer_motion","import_jsx_runtime","import_jsx_runtime","import_react"]}